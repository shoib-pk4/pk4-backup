
<html>
<head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
    <META NAME="Generator" CONTENT="ZeroCode version V42007.10.01 (Tomcat)">
      <link rel="stylesheet" href="/atCRM/stylesheets/entityView.css">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">
    <title>List supp contract</title>
</head>

<assign displayString = ext__.evaluateUdm ("custom/find/getOrgPref","custom/adminNew/list_supp_contract")>

<script>
var date_format="${displayString.getOrgPref.ReadDateFormat.dateFormat}";
var zcServletPrefix = "${servlet_prefix}";
var zcSiteName      = "atCRM";

var appName = navigator.appName;
var src = appName.indexOf ("Microsoft") >= 0 ? "calendar" : "calendar-moz";
document.write ('<script src="/atCRM/javascript/' + src + '.js"></scr' +
                'ipt>');
</script>

<script src="/atCRM/javascript/validate.js"></script>
<script src="/atCRM/javascript/descriptor.js"></script>
<script src="/atCRM/javascript/commonFunctionsPanel.js"></script>
<script src="/atCRM/javascript/dateValidate.js"></script>
<script src="/atCRM/javascript/Widgets/toolTip.js"></script>
<script src="/atCRM/javascript/tabIcons.js"></script>

<script>
var monthAbbrevs = new Array ("Jan", "Feb", "Mar", "Apr", "May", "Jun",
                              "Jul", "Aug", "Sep", "Oct", "Nov", "Dec");
var calendar;
var isIE = document.all ? true : false;
var descriptors;
var topLevelNodePks = null;


function buildDescriptors () {
    var form = document.mainForm ? document.mainForm : null;
    var descArray = new Array();
    var checkbox;

    return descArray;
}


var invalidFields = null;
function validate () {

    var msg = "";

    // First, restore the state of any fields that were previously found invalid.
    if (invalidFields && invalidFields.length) {
        for (var i = 0; i < invalidFields.length; i++) {
            invalidFields[i].className = "inputFieldClass";
        }
    }

    // Now check all the fields.
    invalidFields = new Array();
    for (var i = 0, count = 0; i < descriptors.length; i++) {
        var result = null;
        try {
            result = verifyValidity (descriptors[i]);
        } catch (e) {
            alert ("Validation exception for '" + descriptors[i].description +
                   "' (" + descriptors[i].tagName + ")");
            return false;
        }
        if (result) {
            count++;
            msg += "\n<li>" + result.message + "</li>";
            if (result.field) {
                result.field.className = "invalidInputFieldClass";
                invalidFields[invalidFields.length] = result.field;
                if (count == 1) result.field.focus();
            }
        }
    }
    var errorDiv = document.getElementById ("zc__errorDiv");
    if (msg != "") {
        msg = "Invalid input:\n" +
            "<ul type=1>\n" + msg + "\n</ul>Please correct these errors.";
        if (errorDiv) {
            errorDiv.innerHTML = msg;
        } else {
            alert (msg);
        }
        return false;
    }

    if (errorDiv && errorDiv.innerHTML != "") {
        errorDiv.innerHTML = "";
    }
    return true;
}


function checkAll (id) {
    var form = document.mainForm;
    var controlBox = form.elements ("chkAll-" + id);
    var value = controlBox.checked;
    var n = form.elements.length;
    for (var i = 0; i < n; i++) {
        var x = form.elements [i];
        var xName = x.name;
        var suffix = xName.substring (xName.length - id.length - 1);
        if (suffix == "-" + id && x.type == "checkbox" ) {
            x.checked = value;
        }
    }
}


function chkAll (id) {
    var n = document.mainForm ? document.mainForm.elements.length : 0;
    if (n <= 0) {
        return;
    }
    var form = document.mainForm;
    var controlBox = form.elements ("chkAll-" + id);
    var value = controlBox.checked;
    for (var i = 0; i < n; i++) {
        var x = document.mainForm.elements [i];
        var xName = x.name;
        if (xName == "chk-" + id && x.type == "checkbox" ) {
            x.checked = value;
        }
    }
}


var sortUrls = new Array();

function sortByNode (nodeId) {
    var url = sortUrls[nodeId];
    if (url) window.location.href = url;
}

function emitSortingArrow (columnNodeId, derefNodeId, columnNodeDesc, listNodeId, orderByField) {
//     var count = parseInt ("${controlPanel.allSessions__listCtl.count}");
//     if (isNaN(count) || count == 0) return;
    var result = "";
    var searchId = "${search__id}";
    var sortKeyId = derefNodeId != "" ? derefNodeId : columnNodeId;
    if (orderByField == sortKeyId || isPrefix (orderByField, sortKeyId + ",") ||
        isSuffix (orderByField, "," + sortKeyId)) {
        var url = windowReloadUrl ("order__by__" + listNodeId, "-" + sortKeyId);
        sortUrls[columnNodeId] = url;
        result = '<img src="/atCRM/images/arrow_dwn.gif" border=0 ' +
            'style="cursor: pointer; cursor: hand" ' +
            'onclick="sortByNode(' + columnNodeId + ')" ' +
            'title="Sort descending, by ' + columnNodeDesc + '"></a>';
    } else if (orderByField == ('-' + sortKeyId) ||
               isPrefix (orderByField, '-' + sortKeyId + ",") ||
               isSuffix (orderByField, ",-" + sortKeyId)) {
        var url = windowReloadUrl ("order__by__" + listNodeId, sortKeyId);
        sortUrls[columnNodeId] = url;
        result = '<img src="/atCRM/images/arrow_up.gif" border=0 ' +
            'style="cursor: pointer; cursor: hand" ' +
            'onclick="sortByNode(' + columnNodeId + ')" ' +
            'title="Sort ascending, by ' + columnNodeDesc + '"></a>';
    }  else {
        var url = windowReloadUrl ("order__by__" + listNodeId, sortKeyId);
        sortUrls[columnNodeId] = url;
        result =  '<img src="/atCRM/images/arrow_rt.gif" border=0 ' +
            'style="cursor: pointer; cursor: hand" ' +
            'onclick="sortByNode(' + columnNodeId + ')" ' +
            'title="Sort ascending, by ' + columnNodeDesc + '"></a>';
    }
    document.write (result);
}


function isPrefix (s1, s2) { // Is s2 a prefix of s1?
    return s1 && s2 && s1.substring (0, s2.length) == s2;
}


function isSuffix (s1, s2) { // Is s2 a suffix of s1?
    return s1 && s2 && s1.substring (s1.length - s2.length) == s2;
}


function showHighlightBarForTopPane (nodeIdOfTopmostList, recNoOfHighlightBar) {
    var nodeId = parseInt (nodeIdOfTopmostList);
    var recNo  = parseInt (recNoOfHighlightBar);
    if (isNaN (nodeId) || isNaN (recNo)) {
        return;
    }
    var highlightRow = document.getElementById ("tableRow__" + nodeId + "__" + recNo);
    if (highlightRow) {
        var cells = highlightRow.childNodes;
        if (cells.length && cells.length > 1) {
            cells[0].className = "topPaneHighlightBarLeft";
            cells[cells.length-1].className = "topPaneHighlightBarRight";
            for (var i = 1; i < cells.length-1; i++) {
                cells[i].className = "topPaneHighlightBarMiddle";
            }
        }
    }
}


var shownTabId = null;
function showTab (nodeId) {
    if (shownTabId == nodeId) return;
    var tab = document.getElementById ("tabCell__" + nodeId);
    if (tab) {
        tab.className = "selectedTabClass";
        var div = document.getElementById ("paneContainer__" + nodeId);
        if (div) div.style.display = "block";
        if (shownTabId) {
            var shownTab = document.getElementById ("tabCell__" + shownTabId);
            if (shownTab) shownTab.className = "tabClass";
            var theDiv = document.getElementById ("paneContainer__" + shownTabId);
            if (theDiv) theDiv.style.display = "none";
        }
        shownTabId = nodeId;
    }
}


function initialize () {
    var now = new Date ();
    var nowYear = isIE ? now.getYear() : (now.getYear() + 1900);
    // Netscape returns 1900+year for getYear
    var todaysDate = fmt (now.getMonth()+1) + "/" + fmt (now.getDate()) + "/" +
        nowYear;
    var timeNow = fmt (now.getHours()) + ":" + fmt (now.getMinutes()) + ":" + fmt(now.getSeconds());
    descriptors = buildDescriptors();
    for (var i = 0; i < descriptors.length; i++) {
        initializeTag (descriptors[i], todaysDate, timeNow);
    }

    calendar = new CalendarControl ('calendar');
	    var recid = getQueryParameter('id');
	var moveto=getQueryParameter('moveto');


    showHighlightBarForTopPane ();
<if list_supp_contract.lookAndFeel.wantTabs == "tabs">
    var openPaneId = getQueryParameter ("openPaneId");
    if (openPaneId) {
        showTab (openPaneId);
    } else {
        var divElts = document.getElementsByTagName ("div");
        var n = divElts ? divElts.length : 0;
        for (var i = 0; i < n; i++) {
            var id = divElts[i].id;
            if (isPrefix (id, "paneContainer__")) {
                var nodeId = id.substring (15);
                var tabCell = document.getElementById ("tabCell__" + nodeId);
                if (tabCell) {
                    showTab (nodeId);
                    break;
                }
            }
        }
    }
</if>

    // Making the Filter combo value persistent
    var subSelect = document.getElementById ("subSelect");
    if (subSelect) {
        var sFilterText = getQueryParameter('filterText');
        if (sFilterText != null) {
            document.mainForm.subSelect.options[sFilterText].selected=true;
        } else {
            for (var i=0; i < subSelect.options.length;i++) {
                if (document.mainForm.subSelect.options[i].text =="All") {
                    document.mainForm.subSelect.selectedIndex = i;
                    break;
                }
            }
        }
    }
		if (getQueryParameter('searchstr'))
	{
		document.getElementById ("searchTxt").value = getQueryParameter('searchstr');
	}

}

var listNodeProperties = new Array();
var props = null;


props = new Object();
props.recNo = eval ("<if list_supp_contract.supp_contract__listCtl.thisPage>(${list_supp_contract.supp_contract__listCtl.thisPage} - 1) * ${list_supp_contract.supp_contract__listCtl.pagingAmount}<else>0</if>");
props.pageNumber = "${list_supp_contract.supp_contract__listCtl.thisPage}";
props.linkCount  = "${list_supp_contract.supp_contract__listCtl.pageList.size}";
listNodeProperties[1] = props;


function showNextRecord (nodeId) {
    var recNo = listNodeProperties[nodeId].recNo;
    if (!recNo) {
        recNo = 0;
    }
    document.write (++recNo);
    listNodeProperties[nodeId].recNo = recNo;
}


function showPage (pageNumber, pagingNodeId) {
    reloadWindow ("page__number__" + pagingNodeId, pageNumber);
}


function generationhref (pageNumber, pagingNodeId) {
    return "javascript:showPage (" + pageNumber + "," + pagingNodeId + ")";
}


function emitPagingRibbon (pagingNodeId) {
    var props = listNodeProperties[pagingNodeId];
    if (props) {
        paging (props.linkCount, props.pageNumber, "atCRM", pagingNodeId);
    }
}


// Construct a URL string that can be used to reload this window. Use all the parameters of the
// current window, adding (or replacing) the given parameter with the given value.
function windowReloadUrl (parameterName, value, dontUseSearchId,moveto)
{

    var queryStringPkt = getQueryParameterPacket();

    var len = parameterName.length;
    /* if the size of the page is changed,reset the page__number__Id to 1 */
    if(queryStringPkt && parameterName.substring(0,12) == "page__size__") {
        var nodeNum = parameterName.substring(12,len+1);
        queryStringPkt["page__number__"+nodeNum] = 1;
    }

    if (!queryStringPkt)
	{
        queryStringPkt = new Array();
    }

	if(moveto)
	{
			queryStringPkt["moveto"] =moveto;

	}

    if (shownTabId)
	{
        queryStringPkt["openPaneId"] = shownTabId;
    }

    if (!dontUseSearchId) {
        if (queryStringPkt["search__id"]) {
            delete queryStringPkt["search__id"];
        }
    } else {
	var searchId = "${search__id}";
        if (searchId != "") {
            queryStringPkt["search__id"] = searchId;
        }
    }

//	alert(parameterName);
//	alert(value);
    queryStringPkt [parameterName] = value;
    return window.location.pathname + makeQueryString (queryStringPkt);
}


function reloadWindow (parameterName, value, moveto)
{

	var filterurl=windowReloadUrl (parameterName, value,false,moveto);
	window.location.href = filterurl;

}

function moveRecord (n, nodeId) {
    if (!topLevelNodePks || topLevelNodePks.length <= 0) return;
    var recordIndex = 0;
    var currentRecordId = getQueryParameter ("id");
    if (currentRecordId) {
        // We have a record id. Find its index.
        for (var i = 0; i < topLevelNodePks.length; i++) {
            if (topLevelNodePks[i] == parseInt (currentRecordId)) {
                recordIndex = i;
                break;
            }
        }
    }
    if (n == 1) { // Move one record forward
        if (recordIndex >= 0 && recordIndex < topLevelNodePks.length-1) {
            recordIndex++;
            reloadWindow ("id", topLevelNodePks[recordIndex]);
        } else {
            var props = listNodeProperties[nodeId];
            if (props) {
                var nextPage = parseInt(props.pageNumber) + 1;
                if (nextPage <= props.linkCount) {
                    showPage (nextPage, nodeId);
                }
            }
        }
    } else { // Move one record back
        if (recordIndex > 0 && recordIndex < topLevelNodePks.length) {
            recordIndex--;
            reloadWindow ("id", topLevelNodePks[recordIndex]);
        } else {
            var props = listNodeProperties[nodeId];
            if (props) {
                var prevPage = parseInt(props.pageNumber) - 1;
                if (prevPage > 0) {
                    showPage (prevPage, nodeId);
                }
            }
        }
    }
}


function changePageSize (nodeId) {
    var pageSizeBox = document.getElementById ("pageSize__" + nodeId);
    if (pageSizeBox && pageSizeBox.value) {
        // When changing page size, we can't use the search id because everything gets messed up.
        var url = windowReloadUrl ("page__size__" + nodeId, pageSizeBox.value, true);
        window.location.href = url;
    }
}


// List of names of columns that are of data type String:
var topTableStringColumnNames = [

 "allTerrsForUserCSV"
];


function setupSearch () {
    var searchBox = document.getElementById ("commonSearchBox");
    if (!searchBox) {
        return;
    }
    var value = searchBox.value.trim();
    if (!value || value.length <= 0) {
        return true; // No condition. Is this really ok?
    }
    var clause = "";
    for (var i = 0; i < topTableStringColumnNames.length; i++) {
        if (clause != "") {
            clause += " or ";
        }
        clause += "." + topTableStringColumnNames[i] +
            " like '%" + value + "%'";
    }
    var searchForm = document.forms ["commonSearchForm"];
    var conditionField = searchForm.elements ["condition__101"];
    conditionField.value = clause;
    return true;
}

function doExport()  {
    window.location.href = "/custom/Export/Files.html";
}

</script>


<function emitSecureUrl (text, link)>
<a href="${servlet_prefix}/${link}">${text}</a>
</function>

<function emitSecureUrl1 (text, link)>
<assign query thisUdmsQueryString>
<if stringLib.substring (query, "0" , "2")=="id" >
<assign query stringLib.substring (query, integerLib.op (stringLib.index (query, "&"), "+", "1"), stringLib.length (query))  >
</if>
  <if access_allowed (link)><a href="${servlet_prefix}/${link}&${query}">${text}</a><else>${text}</if>
</function>


<script>

function deactivate (tableName, id) {
    var url = "${servlet_prefix}/custom/Deactivate" + tableName + ".html?id=" + id;
    window.open(url,"","top=50,left=50,height=250,width=400,resizable=no,location=no,menubar=no,status=no,toolbar=no");
}

function Print()
{
 	window.print();
}

function addDocument (tableName, id)
{
	var strId = "${servlet_prefix}/custom/Documents/" + tableName + ".html?id=" + id;
	window.open (strId,"Note","titlebar=no,toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=0,resizable=yes,copyhistory=yes,width=400,height=250,top=150,left=220");

}

function addNote (name, id)
{
	var strId = "${servlet_prefix}/custom/Notes/AddNotes4" + name + ".html?id=" + id;
	window.open(strId,"Note","titlebar=no,toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=0,resizable=yes,copyhistory=yes,width=650,height=510,top=150,left=220");

}

function reassign (name, id)
{
    var url = "${servlet_prefix}/custom/Reassign/Territory4" + name + ".html?id="  + id;
    window.open(url,"Reassign","alwaysRaised=yes,dependent=yes,top=50,left=50,height=250,width=400,resizable=no,location=no,menubar=no,status=no,toolbar=no");
}

/*  Changed function for filter persistence - Kishore, 02 Dec. 2003  */
function condition_Combo()
{
	var strId=getQueryParameter('prefId');
	var str=document.mainForm.subSelect.value;
	//var sFilterText=document.mainForm.subSelect.options[document.mainForm.subSelect.selectedIndex].text;
	var sFilterText=document.mainForm.subSelect.selectedIndex;

	//if(str!=-1)
	//{
		var strCurrent=str.indexOf('current_date');

		if(strCurrent!=-1)
		{
			str=str.substring(0,str.indexOf('current_date'));
			var strDate=new Date();
			str=str+"{d '"+strDate.getYear()+"-"+(strDate.getMonth()+1)+"-"+strDate.getDate()+"'}";
			window.location.href="${servlet_prefix}/custom/adminNew/list_supp_contract.html?prefId="+strId+"&filterText="+sFilterText+"&condition__1="+str;
		}
		else
		{
			window.location.href="${servlet_prefix}/custom/adminNew/list_supp_contract.html?prefId="+strId+"&filterText="+sFilterText+"&condition__1="+str;
		}
	/*}
	else
	{
		alert("please select");
		document.mainForm.subSelect.selected;
	}*/

}


function cl(inp, val) {
	if (inp.value == val) inp.value = "";
}

function fl(inp, val) {
	if (inp.value == "") inp.value = val;
}

function assignFrame()
{
	document.getElementById('assignFrame').style.display="block";
	document.getElementById('assignFrame').style.height="280";
	document.getElementById('assignFrame').style.width="600";
	document.getElementById('assignFrame').src="${servlet_prefix}/custom/adminNew/add/supp_ctrt_prod_item.html";
}

function AddProd ()
{
	document.getElementById ("AddProdDiv").style.display="block";
	document.getElementById('mainDiv').style.display="block";
	document.getElementById ("AddProdDiv").style.top="50";
	document.getElementById ("AddProdDiv").style.height="200";
	assignFrame();
}
function hideAddProdDiv()
{
	document.getElementById ("AddProdDiv").style.display="none";
	document.getElementById('mainDiv').style.display="none";
	document.getElementById('assignFrame').style.height="0";
}

function searchAction(event)
{
	var charCode = event.keyCode ? event.keyCode : event.which ? event.which : event.charCode;

	if (charCode==13)
	{
		doSearch();
	}

}

var showingTab="";
</script>


<script src="/atCRM/javascript/pagination.js"></script>

<script src="/atCRM/javascript/utils.js"></script>

<div name="mainDiv" id="mainDiv" style = "position:absolute;left:0px;top:0px;right:0px;margin:0px;width:100%;height:100%;background-color:GhostWhite;opacity:0.8;filter:alpha(opacity=80);display:none"></div>

<body class="PageBody" onload="initialize()">

  <div id="zc__errorDiv" style="color: red"></div>

  <assign entityPanelWidth = "80%">
  <switch list_supp_contract.lookAndFeel.userWantsPanelOn>
    <case "right">
      <assign panels = ["entity", "common"]>
      <assign divider = "border-left: 1px solid black">
      <break>

    <case "left">
      <assign panels = ["common", "entity"]>
      <assign divider = "border-right: 1px solid black">
      <break>

    <default>
      <assign panels = ["entity"]>
      <assign entityPanelWidth = "100%">
      <assign divider = "">
      <break>

  </switch>


  <form name="mainForm" method="post">
 <table border="0" width="99%"> <!-- This is the outermost table, containing only one row with two cells. -->	<tr>
	  <td width="187px" valign="top" >
			<include "custom/entityView/commonFunctions.html">
	  </td>
		<td valign="top">

			<table border="0" width="99%"> <!-- This is the outermost table, containing only one row with two cells. -->
		  <tr>
		<list panels as aPanel>
		  <switch aPanel>
			<case "common">
				  <td width="20%" valign="top" <if divider != "">style="${divider}"</if> >
					<table style="width: 100%" class="NonListNodeTable" cellspacing="0" cellpadding="0">
					</table>
				  </td>
			  <break>
			<case "entity">
				<td width="" valign="top">
		<table id="topContainer" cellpadding="0" cellspacing="0" border="0" bordercolor="red" style="width: 100%">
		  <tr valign="top">
			<td>
			  <script>
				topLevelNodePks = [<list list_supp_contract.supp_contract as e1>${comma}${e1.supp_contract_id}<assign comma = ","></list>];
			  </script>
			<div id="paneContainer__1" width="99%" class="paneContainer1">
			  <if thisUdmsQueryString && thisUdmsQueryString != "">
				<if stringLib.index (thisUdmsQueryString, "backto=")>
				  <assign newQueryString = stringLib.urlEncode(thisUdmsQueryString)>
				<else>
				  <assign newQueryString = "backto=" + servlet_prefix + stringLib.urlEncode("/custom/adminNew/list/list_supp_contract.html?" + thisUdmsQueryString)>
				</if>
			  <else>
				<assign newQueryString = "backto=custom/adminNew/list/list_supp_contract.html" >
			  </if>
			  <!-- Table caption -->
			  <table cellpadding="0" cellspacing="0" style="width: 99%">
				<tr>
				  <td class="SubHeading" width="80%">
					Support contract
					<span class="default">[${list_supp_contract.supp_contract__listCtl.count}]</span>
				  </td>
				  <td align="right" width="60%">
					<table cellpadding="1" cellspacing="0" class="toolbar" border="0" bordercolor="#76756D">
						<tr>
						  <td class="listgrayRow" align ="right" width="5%" style="padding-left: 8px" nowrap>
							<input type="text" name="searchTxt" id="searchTxt" size="20" maxlength="25" value="Search" 	class="inputsearch" onkeypress="if (window.event.keyCode==13) doSearch();" value='Search' onfocus="this.value='';" onblur="this.value='Search';" onkeypress="searchAction(event);" title="Search">
						  </td>
					   <td>
							<a href="${servlet_prefix}/custom/adminNew/add/supp_contract.html" style="text-decoration:none"><span title='Add contract' ID="tabIcons_AddbyMbl" class="tabIconNormalViewClass" onMouseover="tabIconOnOverView(this.id)" onMouseOut="tabIconNormalView(this.id)" >Add</span></a>
						</td>
					   <td>
							<a href="${servlet_prefix}/custom/adminNew/List_supp_ctrt_template.html" style="text-decoration:none"><span title="List of templates" ID="tabIcons_Templates" class="tabIconNormalViewClass" onMouseover="tabIconOnOverView(this.id)" onMouseOut="tabIconNormalView(this.id)" >Templates</span></a>
					   </td>
						  <td>
							<a style="text-decoration:none" href="javascript:SetPreferences(${list_supp_contract.prefsData.viewprefs_Id},'custom/adminNew/list_supp_contract')"><span class="tabIconNormalViewClass" ID="tabIcons_Prefs" title='Edit Preferences' onMouseover="tabIconOnOverView(this.id)" onMouseOut="tabIconNormalView(this.id)" >Prefs</span></a>
						  </td>
<!--  						  <td>
							<a href="javascript:AddProd()" style="text-decoration:none"><span title="Add Product" ID="tabIcons_Product" class="tabIconNormalViewClass" onMouseover="tabIconOnOverView(this.id)" onMouseOut="tabIconNormalView(this.id)" >+Product</span></a>
						</td> -->

						<td>
						<input type="text" size="1" maxlength="2" name="pageSize__1" class="smallFontElement"  id="pageSize__1"       style="text-align: right; font-size: 8pt" value="${list_supp_contract.supp_contract__listCtl.pagingAmount}">
						<td>
							<a href="javascript:changePageSize (1)" style="text-decoration:none"><span title='Change number of rows in Supp contract' ID="tabIcons_Go" class="tabIconNormalViewClass" onMouseover="tabIconOnOverView(this.id)" onMouseOut="tabIconNormalView(this.id)">Go</span></a>
						</td>

	<!--                    <td>
						 <a border="0" href="javascript:doClone('2','supp_contract')"><img border="0" title="Clone supp_contract" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Icon - Clone','','/atCRM/images/Icon_Clone_onover.gif',1)" name="Icon - Clone" src="/atCRM/images/Icon_Clone.gif" style="cursor: pointer; cursor: hand"></a>
					   </td>
					    <td>
							<a href="javascript:doExport()" style="text-decoration:none"><span title="Export" ID="tabIcons_Export" class="tabIconNormalViewClass" onMouseover="tabIconOnOverView(this.id)" onMouseOut="tabIconNormalView(this.id)" >Export</span></a>
					   </td>
						  <td align ="left" width="5%"><a style="text-decoration:none" href="javascript:Print()"><span class="tabIconNormalViewClass" ID="tabIcons_Print" title='Print' onMouseover="tabIconOnOverView(this.id)" onMouseOut="tabIconNormalView(this.id)" >Print</span></a>
						  </td>
						  <td>
							<img src="/atCRM/images/go_btn.gif" class="toolbarButton"
							  title="Search" onclick="doSearch()">
						  </td>
						  <td style="padding-left: 10px">
							<img src="/atCRM/images/icon_search.gif" width="32" class="toolbarButton"
							  title="Quick find" onclick="showSearchPopup()">
						  </td>
						  <td style="padding-left: 4px">
							<img src="/atCRM/images/icon_advsearch.gif" class="toolbarButton"
							  onMouseOut="MM_swapImgRestore()"
							  onMouseOver="MM_swapImage('icon - advsearch','','/atCRM/images/icon_advsearch_onover.gif',1)" name="icon - advsearch"
							  title="Advanced Find" onclick="advSearch()">
						  </td> -->
					  </tr>
					</table>
				  </td>
				</tr>
			  </table>
			  <!-- Table content -->
			  <table id="table__1" style="width: 99%" class="ListNodeTable" cellpadding="3"
				cellspacing="1" bgcolor="#dddddd">
				<tr>
				  <th class="TblHead" width="5"></th>
<!-- 				  <th class="TblHead" width="20">
					<input type="checkbox" name="chkAll-2"
					   onclick="checkAll ('2')">
				  </th>
 -->				  <list list_supp_contract.lookAndFeel.shownNodesInOrder as shownNode>
					<switch shownNode.string>
					<case "2">
					  <th class="TblHead" width="32" >
						Supp contract id
						<script>emitSortingArrow ("2", "", "Supp contract id", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "3">
					  <th class="TblHead"  >
						Identifier
						<script>emitSortingArrow ("3", "", "Identifier", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "4">
					  <th class="TblHead"  >
						Name
						<script>emitSortingArrow ("4", "", "Name", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "5">
					  <th class="TblHead"  >
						Account
						<script>emitSortingArrow ("5", "7", "Account", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "8">
					  <th class="TblHead"  >
						Contact
						<script>emitSortingArrow ("8", "10", "Contact", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "11">
					  <th class="TblHead"  >
						Primary contact
						<script>emitSortingArrow ("11", "13", "Primary contact", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "14">
					  <th class="TblHead"  >
						Guarantee description
						<script>emitSortingArrow ("14", "", "Guarantee description", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "15">
					  <th class="TblHead"  >
						Notes
						<script>emitSortingArrow ("15", "", "Notes", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "16">
					  <th class="TblHead" width="80" >
						Contract value (Rs.)
						<script>emitSortingArrow ("16", "", "Contract value", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "17">
					  <th class="TblHead" width="152" >
						Purchase date
						<script>emitSortingArrow ("17", "", "Purchase date", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "18">
					  <th class="TblHead" width="152" >
						Start date
						<script>emitSortingArrow ("18", "", "Start date", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "19">
					  <th class="TblHead" width="152" >
						End date
						<script>emitSortingArrow ("19", "", "End date", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "20">
					  <th class="TblHead"  >
						Signed ctrct in lib
						<script>emitSortingArrow ("20", "22", "Signed ctrct in lib", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "23">
					  <th class="TblHead"  >
						Status
						<script>emitSortingArrow ("23", "25", "Status", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "26">
					  <th class="TblHead"  >
						Type
						<script>emitSortingArrow ("26", "28", "Type", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "29">
					  <th class="TblHead"  >
						From template
						<script>emitSortingArrow ("29", "31", "From template", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "32">
					  <th class="TblHead"  >
						Ticket priority
						<script>emitSortingArrow ("32", "34", "Ticket priority", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "35">
					  <th class="TblHead" width="56" >
						Service call frequency
						<script>emitSortingArrow ("35", "", "Service call frequency", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>

					<case "38">
					  <th class="TblHead"  >
						Created by
						<script>emitSortingArrow ("38", "40", "Created by", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "41">
					  <th class="TblHead" width="152" >
						Created date
						<script>emitSortingArrow ("41", "", "Created date", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "42">
					  <th class="TblHead"  >
						Modified by
						<script>emitSortingArrow ("42", "44", "Modified by", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "45">
					  <th class="TblHead" width="152" >
						Modified date
						<script>emitSortingArrow ("45", "", "Modified date", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "46">
					  <th class="TblHead"  >
						Orgname
						<script>emitSortingArrow ("46", "48", "Orgname", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					<case "49">
					  <th class="TblHead"  >
						Inactive
						<script>emitSortingArrow ("49", "", "Inactive", "1","${list_supp_contract.supp_contract__listCtl.orderBy}");</script>
					  </th>
					  <break>
					</switch>
				  </list>
				  <th class="TblHead" width="5">#Tickets</th>
				</tr>
				<list list_supp_contract.supp_contract as e1>
				  <if cellClass1 == "listWhiteRow">
				  <assign cellClass1 = "listGrayRow"><else>
				  <assign cellClass1 = "listWhiteRow"></if>
				  <tr id="tableRow__1__${e1.supp_contract_id}">
					<assign backToParameter = "backto=custom/adminNew/list_supp_contract.html" >
					<td class="${cellClass1}" align="right" width="5">
					  <if list_supp_contract.preferences.navigationParameter == "Edit">
						<a href="${servlet_prefix}/custom/adminNew/add/supp_contract.html?id=${e1.supp_contract_id}">
						<img border="0" title="Edit ${e1.supp_contract_ident}" src="/atCRM/images/edit.gif" style="cursor: pointer; cursor: hand"></a>
					  <else>
						<a href="${servlet_prefix}/custom/adminNew/add/supp_contract.html?id=${e1.supp_contract_id}">
						<img border="0" title="View this supp_contract record" src="/atCRM/images/edit.gif" style="cursor: pointer; cursor: hand"></a>
					  </if>
					</td>
					<!-- 					<td class="${cellClass1}">
					  <input type="checkbox" name="chk-2" value="0-1:${e1.zc__rank__}-2" id="0-1:${e1.zc__rank__}-2" idValue="${e1.supp_contract_id}">
					</td>
 -->					<assign keyReference =  e1.supp_contract_id>
					<switch list_supp_contract.preferences.clickOnLinkList>
					  <case "Edit">
						<assign strLink = "custom/advancedAdd/supp_contract.html?eId=">
						<break>
					  <case "Scroll">
						  <assign strLink = "custom/adminNew/add/supp_contract.html?page__number__1=" +
							list_supp_contract.supp_contract__listCtl.thisPage + "&prefId="+list_supp_contract.getPrefId + "&id=">
						<break>
					  <case "360View">
					  <default>
						<assign strLink = "custom/adminNew/add/supp_contract.html?id=">
						<break>
					</switch>
					<assign linkWasShown = "0">
					<list list_supp_contract.lookAndFeel.shownNodesInOrder as shownNode>
					  <switch shownNode.string>
						<case "2">
						  <td class="${cellClass1}" align="right" >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if e1.supp_contract_id>${e1.supp_contract_id}<else>&nbsp;</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "3">
						  <td class="${cellClass1}"  >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/custom/adminNew/view/supp_contract.html?id=${e1.supp_contract_id}">
							</if>
						<if !e1.supp_contract_ident>
						  &nbsp;
						<else>
						  <a href="${servlet_prefix}/custom/adminNew/view/supp_contract.html?id=${e1.supp_contract_id}" title="view this contract">${e1.supp_contract_ident}</a>
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "4">
						  <td class="${cellClass1}"  >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if !e1.name>
						  &nbsp;
						<else>
						  ${e1.name}
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "5">
						  <td class="${cellClass1}"  >
							  <a href="${servlet_prefix}/custom/entityView/account360View.html?id=${e1.ctrt_with_acct}" title="view Account">${e1.ctrt_with_acct__deref.derefValue}</a><!-- <call emitSecureUrl (e1.ctrt_with_acct__deref.derefValue, "custom/entityView/account360View.html?id=" + e1.ctrt_with_acct)> -->
						  </td>
						  <break>
						<case "8">
						  <td class="${cellClass1}"  >
							  <a href="${servlet_prefix}/custom/entityView/contact360View.html?id${e1.ctrt_with_cont}" title="view Contact">${e1.ctrt_with_cont__deref.derefValue}</a><!-- <call emitSecureUrl (e1.ctrt_with_cont__deref.derefValue, "custom/entityView/contact360View.html?id=" + e1.ctrt_with_cont)> -->
						  </td>
						  <break>
						<case "11">
						  <td class="${cellClass1}"  >
							  <call emitSecureUrl (e1.pri_cont__deref.derefValue, "custom/entityView/contact360View.html?id=" + e1.pri_cont)>
						  </td>
						  <break>
						<case "14">
						  <td class="${cellClass1}"  >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if !e1.guarantee_desc>
						  &nbsp;
						<else>
						  ${e1.guarantee_desc}
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "15">
						  <td class="${cellClass1}"  >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if !e1.notes>
						  &nbsp;
						<else>
						  ${e1.notes}
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "16">
						  <td class="${cellClass1}" align="right" >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if !e1.ctrt_value>
						  &nbsp;
						<else>
						  ${e1.ctrt_value}
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "17">
						  <td class="${cellClass1}"  >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if !e1.purchase_date>
						  &nbsp;
						<else>
						  ${e1.purchase_date}
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "18">
						  <td class="${cellClass1}"  >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if !e1.start_date>
						  &nbsp;
						<else>
						  ${e1.formatStartDate}
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "19">
						  <td class="${cellClass1}"  >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if !e1.end_date>
						  &nbsp;
						<else>
						  ${e1.formatEndDate}
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "20">
						  <td class="${cellClass1}"  >
						<if e1.signed_ctrct_in_lib>${e1.signed_ctrct_in_lib__deref.derefValue}<else>&nbsp;</if>
						  </td>
						  <break>
						<case "23">
						  <td class="${cellClass1}"  >
						<if e1.supp_ctrt_status>${e1.supp_ctrt_status__deref.derefValue}<else>&nbsp;</if>
						  </td>
						  <break>
						<case "26">
						  <td class="${cellClass1}"  >
						<if e1.supp_ctrt_type>${e1.supp_ctrt_type__deref.derefValue}<else>&nbsp;</if>
						  </td>
						  <break>
						<case "29">
						  <td class="${cellClass1}"  >
						<if e1.from_template>${e1.from_template__deref.derefValue}<else>&nbsp;</if>
						  </td>
						  <break>
						<case "32">
						  <td class="${cellClass1}"  >
						<if e1.def_tkt_prty>${e1.def_tkt_prty__deref.derefValue}<else>&nbsp;</if>
						  </td>
						  <break>
						<case "35">
						  <td class="${cellClass1}" align="right" >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if e1.serv_call_freq>
							Every&nbsp;<if e1.serv_call_freq == "365">
								Year
							<else>
								<if e1.serv_call_freq == "182">
									Half-year
								<else>
									<if e1.serv_call_freq == "91">
										Quarter
									<else>
										<if e1.serv_call_freq == "30">
											Month
										<else>
											<if e1.serv_call_freq == "14">
												2 Weeks
											<else>
												<if e1.serv_call_freq == "7">
													Week
												</if>
											</if>
										</if>
									</if>
								</if>
							</if>
						<else>&nbsp;</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>

						<case "38">
						  <td class="${cellClass1}"  >
						<if e1.created_by>${e1.created_by__deref.derefValue}<else>&nbsp;</if>
						  </td>
						  <break>
						<case "41">
						  <td class="${cellClass1}"  >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if !e1.created_date>
						  &nbsp;
						<else>
						  ${e1.getFormatedCreatedDate}
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "42">
						  <td class="${cellClass1}"  >
						<if e1.modified_by>${e1.modified_by__deref.derefValue}<else>&nbsp;</if>
						  </td>
						  <break>
						<case "45">
						  <td class="${cellClass1}"  >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if !e1.modified_date>
						  &nbsp;
						<else>
						  ${e1.modified_date}
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
						<case "46">
						  <td class="${cellClass1}"  >
						<if e1.orgname>${e1.orgname__deref.derefValue}<else>&nbsp;</if>
						  </td>
						  <break>
						<case "49">
						  <td class="${cellClass1}"  >
							<if linkWasShown == "0">
							  <a href="${servlet_prefix}/${strLink}${keyReference}">
							</if>
						<if !e1.inactive>
						  &nbsp;
						<else>
						  ${e1.inactive}
						</if>
							<if linkWasShown == "0">
							  </a><assign linkWasShown = "1">
							</if>
						  </td>
						  <break>
					  </switch>
					</list>
					<td class="${cellClass1}">
						${e1.NoOfTickets}<!-- <br>${e1.ifEndDateIsNull}--${e1.DateFilter}- -->
					</td>
				  </tr>
				</list>
			  </table>
			  <div align="right" style="width: 99%"><script>emitPagingRibbon (1);</script></div>
			</div>
			</td>
		  </tr>
		</table>
<!-- 		  <if list_supp_contract.lookAndFeel.wantTabs == "tabs">
		   <assign tabwidth = 80 / (list_supp_contract.lookAndFeel.shownPanesInOrder__listCtl.count - 1)>
			<table id="menuTabs" width="95%" cellspacing="0">
			  <tr class="menuTabContainer">
				<td class="noTabClass" width="5">&nbsp;</td>
				<list list_supp_contract.lookAndFeel.shownPanesInOrder as shownPane>
				  <switch shownPane.string>
					<case "101">
					  <td id="tabCell__101" align="center" class="tabClass" width="${tabwidth}%" onclick="showTab(101)" nowrap>${list_supp_contract.getUserTerritory__listCtl.count} Get user territory</td>
					  <td class="noTabClass" width="5">&nbsp;</td>
					  <break>
					<case "201">
					  <td id="tabCell__201" align="center" class="tabClass" width="${tabwidth}%" onclick="showTab(201)" nowrap>${list_supp_contract.filterString__listCtl.count} Filter string</td>
					  <td class="noTabClass" width="5">&nbsp;</td>
					  <break>
				  </switch>
				</list>
				<td class="noTabClass">&nbsp;</td>
			  </tr>
			</table>
		  </if>
 -->		  <list list_supp_contract.lookAndFeel.shownPanesInOrder as shownPane>
			<switch shownPane.string>
			  <case "101">
			<div id="paneContainer__101" width="99%" class="paneContainer1"
			  <if list_supp_contract.lookAndFeel.wantTabs == "tabs">style="display: none"</if>
			>
			  <if thisUdmsQueryString && thisUdmsQueryString != "">
				<if stringLib.index (thisUdmsQueryString, "backto=")>
				  <assign newQueryString = stringLib.urlEncode(thisUdmsQueryString)>
				<else>
				  <assign newQueryString = "backto=" + servlet_prefix + stringLib.urlEncode("/custom/adminNew/list_supp_contract.html?" + thisUdmsQueryString)>
				</if>
			  <else>
				<assign newQueryString = "backto=custom/adminNew/list_supp_contract.html" >
			  </if>
			  <!-- Table caption -->
			  <table cellpadding="0" cellspacing="0" style="width: 99%">
				<tr>
				  <td class="SubHeading" width="80%">
					Get user territory
				  </td>
				  <td align="right" width="30%">
					<table cellpadding="1" cellspacing="0" class="toolbar" border="0" bordercolor="#76756D">
					  <tr>
					  </tr>
					</table>
				  </td>
				</tr>
			  </table>
			  <table style="width: 99%" class="NonListNodeTable" bgcolor="#dddddd"
				cellspacing="1" cellpadding="3">
				<assign count = "0">
				<list list_supp_contract.lookAndFeel.shownNodesInOrder as shownNode>
				  <switch shownNode.string>
					<case "102">
					  <if integerLib.op (count, "%", 3) == "0">
						<tr><assign hasOpenTr = "1">
					  </if>
					  <td width="11%" class="ItemLabel">All terrs for user csv</td>
					  <td width="22%" class="default">
					  <if !list_supp_contract.getUserTerritory.allTerrsForUserCSV>
						&nbsp;
					  <else>
						${list_supp_contract.getUserTerritory.allTerrsForUserCSV}
					  </if>
					  </td>
					  <assign count = integerLib.op (count, "+", "1")>
					  <if integerLib.op (count, "%",  3) == "0">
						</tr><assign hasOpenTr = "0">
					  </if>
					  <break>
				  </switch>
				</list>
				<if hasOpenTr == "1">
				  <td>&nbsp;</td><td>&nbsp;</td>
				  </tr>
				</if>
			  </table>
			</div>
			  <break>
			  <case "201">
			  <if !list_supp_contract.filterString>
				&nbsp;
			  <else>
				${list_supp_contract.filterString}
			  </if>
			  <break>
			</switch>
		  </list>
	 </td>
			  <break>
		  </switch>
		</list>
	  </tr>
	</table>
				  <div align="center"><if list_supp_contract.supp_contract__listCtl.count == 0>No items found</if></div>

		<div name="AddProdDiv" id="AddProdDiv" valign="bottom" style="position:absolute;top:50px;left:300px;width:550px;height:50px;display:none;border:10px solid #9B9B9B;background-color:#FFFFFF"><a href="javascript:hideAddProdDiv()" style="padding-left:550px" style="font-size:8pt" background="#FFFFFF">Close</a><iframe name="assignFrame" id="assignFrame" valign="top" style="top:200px;left:280px;width:1000px;height:500px;display:none;" frameborder="0" src="about:blank" ></iframe>
		</div>

</td>
</tr>
</table>
    <input type="hidden" id="condition__1" name="condition__1">
    <input type="hidden" id="response__uri" name="response__uri">
  </form>
<script>
//-- MAS showTab2();
</script>
</body>
</html>



<!-- zeroCode ::: V42007.10.01 (Tomcat) ::: entityView/customTemplate.html ::: 23-Sep-2008 23:56:35 PDT ::: -->

