(function(a){function b(b){function d(b){var c=RegExp(a.map(b,encodeURIComponent).join("|"),"ig");return function(a){return a.replace(c,decodeURIComponent)}}b=a.extend({unescape:!1},b||{});c.encoder=function(a){return a===!0?function(a){return a}:typeof a=="string"&&(a=d(a.split("")))||typeof a=="function"?function(b){return a(encodeURIComponent(b))}:encodeURIComponent}(b.unescape)}var c={put:function(a,b){(b||window).location.hash=this.encoder(a)},get:function(b){b=(b||window).location.hash.replace(/^#/,
"");try{return a.browser.mozilla?b:decodeURIComponent(b)}catch(d){return b}},encoder:encodeURIComponent},d={id:"__jQuery_history",init:function(){var b='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';a("body").prepend(b);return this},_document:function(){return a("#"+this.id)[0].contentWindow.document},put:function(a){var b=this._document();b.open();b.close();c.put(a,b)},get:function(){return c.get(this._document())}},e={base:{callback:void 0,type:void 0,check:function(){},
load:function(){},init:function(a,d){b(d);f.callback=a;f._options=d;f._init()},_init:function(){},_options:{}},timer:{_appState:void 0,_init:function(){var a=c.get();f._appState=a;f.callback(a);setInterval(f.check,100)},check:function(){var a=c.get();if(a!=f._appState)f._appState=a,f.callback(a)},load:function(a){if(a!=f._appState)c.put(a),f._appState=a,f.callback(a)}},iframeTimer:{_appState:void 0,_init:function(){var a=c.get();f._appState=a;d.init().put(a);f.callback(a);setInterval(f.check,100)},
check:function(){var a=d.get(),b=c.get();if(b!=a)b==f._appState?(f._appState=a,c.put(a),f.callback(a)):(f._appState=b,d.put(b),f.callback(b))},load:function(a){if(a!=f._appState)c.put(a),d.put(a),f._appState=a,f.callback(a)}},hashchangeEvent:{_init:function(){f.callback(c.get());a(window).bind("hashchange",f.check)},check:function(){f.callback(c.get())},load:function(a){c.put(a)}}},f=a.extend({},e.base);f.type=a.browser.msie&&(a.browser.version<8||document.documentMode<8)?"iframeTimer":"onhashchange"in
window?"hashchangeEvent":"timer";a.extend(f,e[f.type]);a.history=f})(jQuery);jQuery.ui||function(a){a.ui={version:"1.8",plugin:{add:function(b,c,d){var b=a.ui[b].prototype,e;for(e in d)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([c,d[e]])},call:function(a,c,d){if((c=a.plugins[c])&&a.element[0].parentNode)for(var e=0;e<c.length;e++)a.options[c[e][0]]&&c[e][1].apply(a.element,d)}},contains:function(a,c){return document.compareDocumentPosition?a.compareDocumentPosition(c)&16:a!==c&&a.contains(c)},hasScroll:function(b,c){if(a(b).css("overflow")=="hidden")return!1;var d=c&&
c=="left"?"scrollLeft":"scrollTop",e=!1;if(b[d]>0)return!0;b[d]=1;e=b[d]>0;b[d]=0;return e},isOverAxis:function(a,c,d){return a>c&&a<c+d},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,
SPACE:32,TAB:9,UP:38}};a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return typeof b==="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus();c&&c.call(d)},b)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})},scrollParent:function(){var b;
b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||
!b.length?a(document):b},zIndex:function(b){if(b!==void 0)return this.css("zIndex",b);if(this.length)for(var b=a(this[0]),c;b.length&&b[0]!==document;){c=b.css("position");if(c=="absolute"||c=="relative"||c=="fixed")if(c=parseInt(b.css("zIndex")),!isNaN(c)&&c!=0)return c;b=b.parent()}return 0}});a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){var c=b.nodeName.toLowerCase(),d=a.attr(b,"tabindex");return(/input|select|textarea|button|object/.test(c)?!b.disabled:
"a"==c||"area"==c?b.href||!isNaN(d):!isNaN(d))&&!a(b)["area"==c?"parents":"closest"](":hidden").length},tabbable:function(b){var c=a.attr(b,"tabindex");return(isNaN(c)||c>=0)&&a(b).is(":focusable")}})}(jQuery);(function(a){var b=a.fn.remove;a.fn.remove=function(c,d){return this.each(function(){d||(!c||a.filter(c,[this]).length)&&a("*",this).add(this).each(function(){a(this).triggerHandler("remove")});return b.call(a(this),c,d)})};a.widget=function(b,d,e){var f=b.split(".")[0],g,b=b.split(".")[1];g=f+"-"+b;if(!e)e=d,d=a.Widget;a.expr[":"][g]=function(d){return!!a.data(d,b)};a[f]=a[f]||{};a[f][b]=function(a,b){arguments.length&&this._createWidget(a,b)};d=new d;d.options=a.extend({},d.options);a[f][b].prototype=
a.extend(!0,d,{namespace:f,widgetName:b,widgetEventPrefix:a[f][b].prototype.widgetEventPrefix||b,widgetBaseClass:g},e);a.widget.bridge(b,a[f][b])};a.widget.bridge=function(b,d){a.fn[b]=function(e){var f=typeof e==="string",g=Array.prototype.slice.call(arguments,1),h=this,e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e;if(f&&e.substring(0,1)==="_")return h;f?this.each(function(){var d=a.data(this,b),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==void 0)return h=f,!1}):this.each(function(){var f=
a.data(this,b);f?(e&&f.option(e),f._init()):a.data(this,b,new d(e,this))});return h}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,d){this.element=a(d).data(this.widgetName,this);this.options=a.extend(!0,{},this.options,a.metadata&&a.metadata.get(d)[this.widgetName],b);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._init()},
_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled")},widget:function(){return this.element},option:function(b,d){var e=b,f=this;if(arguments.length===0)return a.extend({},f.options);if(typeof b==="string"){if(d===void 0)return this.options[b];e={};e[b]=d}a.each(e,function(a,
b){f._setOption(a,b)});return f},_setOption:function(a,b){this.options[a]=b;a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,d,e){var f=this.options[b],d=a.Event(d);d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();e=e||{};if(d.originalEvent)for(var b=
a.event.props.length,g;b;)g=a.event.props[--b],d[g]=d.originalEvent[g];this.element.trigger(d,e);return!(a.isFunction(f)&&f.call(this.element[0],d,e)===!1||d.isDefaultPrevented())}}})(jQuery);(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(a._preventClickEvent)return a._preventClickEvent=!1,c.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){b.originalEvent=b.originalEvent||{};if(!b.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(b);this._mouseDownEvent=b;var c=this,d=b.which==1,e=typeof this.options.cancel=="string"?a(b.target).parents().add(b.target).filter(this.options.cancel).length:!1;if(!d||e||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay);if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted))return b.preventDefault(),
!0;this._mouseMoveDelegate=function(a){return c._mouseMove(a)};this._mouseUpDelegate=function(a){return c._mouseUp(a)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.browser.safari||b.preventDefault();return b.originalEvent.mouseHandled=!0}},_mouseMove:function(b){if(a.browser.msie&&!b.button)return this._mouseUp(b);if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b))(this._mouseStarted=
this._mouseStart(this._mouseDownEvent,b)!==!1)?this._mouseDrag(b):this._mouseUp(b);return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted)this._mouseStarted=!1,this._preventClickEvent=b.target==this._mouseDownEvent.target,this._mouseStop(b);return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-
a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=
this.items.length?/left|right/.test(this.items[0].item.css("float")):!1;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_mouseCapture:function(b,c){if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);
var d=null,e=this;a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==e)return d=a(this),!1});a.data(b.target,"sortable-item")==e&&(d=a(b.target));if(!d)return!1;if(this.options.handle&&!c){var f=!1;a(this.options.handle,d).find("*").andSelf().each(function(){this==b.target&&(f=!0)});if(!f)return!1}this.currentItem=d;this._removeCurrentsFromItems();return!0},_mouseStart:function(b,c,d){c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);
this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);
this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();c.containment&&this._setContainment();if(c.cursor){if(a("body").css("cursor"))this._storedCursor=a("body").css("cursor");a("body").css("cursor",c.cursor)}if(c.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");
this.helper.css("opacity",c.opacity)}if(c.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",c.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(d=this.containers.length-1;d>=0;d--)this.containers[d]._trigger("activate",b,this._uiHash(this));if(a.ui.ddmanager)a.ui.ddmanager.current=
this;a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(b);return!0},_mouseDrag:function(b){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var c=this.options,d=!1;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-
b.pageY<c.scrollSensitivity)this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed;else if(b.pageY-this.overflowOffset.top<c.scrollSensitivity)this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity)this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed;else if(b.pageX-this.overflowOffset.left<c.scrollSensitivity)this.scrollParent[0].scrollLeft=
d=this.scrollParent[0].scrollLeft-c.scrollSpeed}else b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=
a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed));d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(c=this.items.length-1;c>=0;c--){var d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d);if(f&&e!=this.currentItem[0]&&
this.placeholder[f==1?"next":"prev"]()[0]!=e&&!a.ui.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],e):1)){this.direction=f==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(d))this._rearrange(b,d);else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b);a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,
c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0;a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,
c);return!1}},cancel:function(){if(this.dragging){this._mouseUp();this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)if(this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over)this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0}this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null});this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem);return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[],b=b||{};a(c).each(function(){var e=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);e&&d.push((b.key||
e[1]+"[]")+"="+(b.key&&b.expression?e[1]:e[2]))});return d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[],b=b||{};c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")});return d},_intersectsWith:function(a){var c=this.positionAbs.left,d=c+this.helperProportions.width,e=this.positionAbs.top,f=e+this.helperProportions.height,g=a.left,h=g+a.width,i=a.top,k=i+a.height,j=this.offset.click.top,l=this.offset.click.left;return this.options.tolerance=="pointer"||
this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?e+j>i&&e+j<k&&c+l>g&&c+l<h:g<c+this.helperProportions.width/2&&d-this.helperProportions.width/2<h&&i<e+this.helperProportions.height/2&&f-this.helperProportions.height/2<k},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,
b.left,b.width),c=c&&b,b=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return!c?!1:this.floating?d&&d=="right"||b=="down"?2:1:b&&(b=="down"?2:1)},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?e=="right"&&b||e=="left"&&
!b:d&&(d=="down"&&c||d=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=
[],d=[],e=this._connectWith();if(e&&b)for(b=e.length-1;b>=0;b--)for(var f=a(e[b]),g=f.length-1;g>=0;g--){var h=a.data(f[g],"sortable");h&&h!=this&&!h.options.disabled&&d.push([a.isFunction(h.options.items)?h.options.items.call(h.element):a(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(b=d.length-1;b>=0;b--)d[b][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),c=0;c<this.items.length;c++)for(var d=0;d<a.length;d++)a[d]==this.items[c].item[0]&&this.items.splice(c,1)},_refreshItems:function(b){this.items=[];this.containers=[this];var c=this.items,d=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),
this]],e=this._connectWith();if(e)for(var f=e.length-1;f>=0;f--)for(var g=a(e[f]),h=g.length-1;h>=0;h--){var i=a.data(g[h],"sortable");i&&i!=this&&!i.options.disabled&&(d.push([a.isFunction(i.options.items)?i.options.items.call(i.element[0],b,{item:this.currentItem}):a(i.options.items,i.element),i]),this.containers.push(i))}for(f=d.length-1;f>=0;f--){b=d[f][1];e=d[f][0];h=0;for(g=e.length;h<g;h++)i=a(e[h]),i.data("sortable-item",b),c.push({item:i,instance:b,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){if(this.offsetParent&&
this.helper)this.offset.parent=this._getParentOffset();for(var c=this.items.length-1;c>=0;c--){var d=this.items[c],e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;if(!b)d.width=e.outerWidth(),d.height=e.outerHeight();e=e.offset();d.left=e.left;d.top=e.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)e=this.containers[c].element.offset(),this.containers[c].containerCache.left=
e.left,this.containers[c].containerCache.top=e.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];
if(!e)b.style.visibility="hidden";return b},update:function(a,b){if(!e||d.forcePlaceholderSize)b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);d.placeholder.update(c,
c.placeholder)},_contactContainers:function(b){for(var c=null,d=null,e=this.containers.length-1;e>=0;e--)if(!a.ui.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(!c||!a.ui.contains(this.containers[e].element[0],c.element[0]))c=this.containers[e],d=e}else if(this.containers[e].containerCache.over)this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0;if(c)if(this.containers.length===
1)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){for(var c=1E4,e=null,f=this.positionAbs[this.containers[d].floating?"left":"top"],g=this.items.length-1;g>=0;g--)if(a.ui.contains(this.containers[d].element[0],this.items[g].item[0])){var h=this.items[g][this.containers[d].floating?"left":"top"];Math.abs(h-f)<c&&(c=Math.abs(h-f),e=this.items[g])}if(e||this.options.dropOnEmpty)this.currentContainer=
this.containers[d],e?this._rearrange(b,e,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):
c.helper=="clone"?this.currentItem.clone():this.currentItem;b.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);if(b[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};(b[0].style.width==""||c.forceHelperSize)&&b.width(this.currentItem.width());(b[0].style.height==
""||c.forceHelperSize)&&b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});if("left"in b)this.offset.click.left=b.left+this.margins.left;if("right"in b)this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;if("top"in b)this.offset.click.top=b.top+this.margins.top;if("bottom"in b)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if(b.containment=="parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||
document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],b=a(b.containment).offset(),d=a(c).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(d?Math.max(c.scrollWidth,
c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){if(!c)c=this.position;var d=b=="absolute"?1:-1,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=
document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
f?0:e.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var f=b.pageX,g=b.pageY;this.originalPosition&&(this.containment&&(b.pageX-
this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid&&(g=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1],g=this.containment?!(g-this.offset.click.top<
this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-c.grid[1]:g+c.grid[1]:g,f=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0],f=this.containment?!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:!(f-this.offset.click.left<this.containment[0])?f-c.grid[0]:f+c.grid[0]:f));return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&
this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,c,d,e){d?d[0].appendChild(this.placeholder[0]):c.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?c.item[0]:c.item[0].nextSibling);this.counter=
this.counter?++this.counter:1;var f=this,g=this.counter;window.setTimeout(function(){g==f.counter&&f.refreshPositions(!e)},0)},_clear:function(b,c){this.reverting=!1;var d=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static")this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(e=this.containers.length-1;e>=0;e--)a.ui.contains(this.containers[e].element[0],
this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[e])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[e])))}for(e=this.containers.length-1;e>=0;e--)if(c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over)d.push(function(a){return function(b){a._trigger("out",
b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0;this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||
this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!c){for(e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,
originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}});a.extend(a.ui.sortable,{version:"1.8"})})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position=
"relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(b);return!this.handle?!1:!0},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-
this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(this._trigger("start",b)===!1)return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.helper.addClass("ui-draggable-dragging");
this._mouseDrag(b,!0);return!0},_mouseDrag:function(b,c){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},
_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b));if(this.dropped)c=this.dropped,this.dropped=!1;if(!this.element[0]||!this.element[0].parentNode)return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",
b)!==!1&&d._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)});return c},_createHelper:function(b){var c=this.options,b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):
c.helper=="clone"?this.element.clone():this.element;b.parents("body").length||b.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo);b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});if("left"in b)this.offset.click.left=b.left+this.margins.left;if("right"in b)this.offset.click.left=this.helperProportions.width-
b.right+this.margins.left;if("top"in b)this.offset.click.top=b.top+this.margins.top;if("bottom"in b)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if(b.containment=="parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=
[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment)[0];if(c){var b=a(b.containment).offset(),d=a(c).css("overflow")!=
"hidden";this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-
(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(b.containment.constructor==Array)this.containment=b.containment},_convertPositionTo:function(b,c){if(!c)c=this.position;var d=b=="absolute"?1:-1,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+
this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&
!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),
b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid&&(g=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1],g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-c.grid[1]:g+c.grid[1]:g,f=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0],f=this.containment?!(f-this.offset.click.left<this.containment[0]||
f-this.offset.click.left>this.containment[2])?f:!(f-this.offset.click.left<this.containment[0])?f-c.grid[0]:f+c.grid[0]:f));return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?
0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(b,c,d){d=d||this._uiHash();a.ui.plugin.call(this,b,[c,d]);if(b=="drag")this.positionAbs=this._convertPositionTo("absolute");return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,
position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8"});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[];a(e.connectToSortable).each(function(){var e=a.data(this,"sortable");e&&!e.options.disabled&&(d.sortables.push({instance:e,shouldRevert:e.options.revert}),e._refreshItems(),e._trigger("activate",b,f))})},stop:function(b,
c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;d.cancelHelperRemoval=!0;this.instance.cancelHelperRemoval=!1;if(this.shouldRevert)this.instance.options.revert=!0;this.instance._mouseStop(b);this.instance.options.helper=this.instance.options._helper;d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
b,e)})},drag:function(b,c){var d=a(this).data("draggable"),e=this;a.each(d.sortables,function(){this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver)this.instance.isOver=1,this.instance.currentItem=a(e).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=
function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=
d;this.instance.currentItem&&this.instance._mouseDrag(b)}else if(this.instance.isOver)this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1})}});a.ui.plugin.add("draggable",
"cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;if(b.css("cursor"))c._cursor=b.css("cursor");b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=a(this).data("draggable").options;a(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+
"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")})},stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;if(d.css("opacity"))e._opacity=d.css("opacity");d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",
d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML")b.overflowOffset=b.scrollParent.offset()},drag:function(b){var c=a(this).data("draggable"),d=c.options,e=!1;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(!d.axis||d.axis!="x")if(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity)c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+
d.scrollSpeed;else if(b.pageY-c.overflowOffset.top<d.scrollSensitivity)c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed;if(!d.axis||d.axis!="y")if(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity)c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed;else if(b.pageX-c.overflowOffset.left<d.scrollSensitivity)c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed}else{if(!d.axis||d.axis!="x")b.pageY-a(document).scrollTop()<
d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed));if(!d.axis||d.axis!="y")b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed))}e!==
!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}});a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[];a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var d=a(this),e=d.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:e.top,left:e.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,
g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,k=i+d.helperProportions.height,j=d.snapElements.length-1;j>=0;j--){var l=d.snapElements[j].left,n=l+d.snapElements[j].width,q=d.snapElements[j].top,o=q+d.snapElements[j].height;if(l-f<g&&g<n+f&&q-f<i&&i<o+f||l-f<g&&g<n+f&&q-f<k&&k<o+f||l-f<h&&h<n+f&&q-f<i&&i<o+f||l-f<h&&h<n+f&&q-f<k&&k<o+f){if(e.snapMode!="inner"){var r=Math.abs(q-k)<=f,s=Math.abs(o-i)<=f,m=Math.abs(l-h)<=f,t=Math.abs(n-g)<=f;if(r)c.position.top=d._convertPositionTo("relative",
{top:q-d.helperProportions.height,left:0}).top-d.margins.top;if(s)c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top;if(m)c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left;if(t)c.position.left=d._convertPositionTo("relative",{top:0,left:n}).left-d.margins.left}var D=r||s||m||t;if(e.snapMode!="outer"){r=Math.abs(q-i)<=f;s=Math.abs(o-k)<=f;m=Math.abs(l-g)<=f;t=Math.abs(n-h)<=f;if(r)c.position.top=d._convertPositionTo("relative",
{top:q,left:0}).top-d.margins.top;if(s)c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top;if(m)c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left;if(t)c.position.left=d._convertPositionTo("relative",{top:0,left:n-d.helperProportions.width}).left-d.margins.left}!d.snapElements[j].snapping&&(r||s||m||t||D)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[j].item}));
d.snapElements[j].snapping=r||s||m||t||D}else d.snapElements[j].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[j].item})),d.snapElements[j].snapping=!1}}});a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options,b=a.makeArray(a(b.stack)).sort(function(b,e){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});if(b.length){var c=parseInt(b[0].style.zIndex)||0;a(b).each(function(a){this.style.zIndex=
c+a});this[0].style.zIndex=c+b.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;if(d.css("zIndex"))e._zIndex=d.css("zIndex");d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);(function(a){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,d=a.fn.position,e=a.fn.offset;a.fn.position=function(e){if(!e||!e.of)return d.apply(this,arguments);var e=a.extend({},e),g=a(e.of),h=(e.collision||"flip").split(" "),i=e.offset?e.offset.split(" "):[0,0],k,j,l;e.of.nodeType===9?(k=g.width(),j=g.height(),l={top:0,left:0}):e.of.scrollTo&&e.of.document?(k=g.width(),j=g.height(),l={top:g.scrollTop(),left:g.scrollLeft()}):e.of.preventDefault?(e.at="left top",k=j=0,l={top:e.of.pageY,
left:e.of.pageX}):(k=g.outerWidth(),j=g.outerHeight(),l=g.offset());a.each(["my","at"],function(){var a=(e[this]||"").split(" ");a.length===1&&(a=b.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]);a[0]=b.test(a[0])?a[0]:"center";a[1]=c.test(a[1])?a[1]:"center";e[this]=a});h.length===1&&(h[1]=h[0]);i[0]=parseInt(i[0],10)||0;i.length===1&&(i[1]=i[0]);i[1]=parseInt(i[1],10)||0;e.at[0]==="right"?l.left+=k:e.at[0]==="center"&&(l.left+=k/2);e.at[1]==="bottom"?l.top+=
j:e.at[1]==="center"&&(l.top+=j/2);l.left+=i[0];l.top+=i[1];return this.each(function(){var b=a(this),d=b.outerWidth(),c=b.outerHeight(),g=a.extend({},l);e.my[0]==="right"?g.left-=d:e.my[0]==="center"&&(g.left-=d/2);e.my[1]==="bottom"?g.top-=c:e.my[1]==="center"&&(g.top-=c/2);a.each(["left","top"],function(b,l){if(a.ui.position[h[b]])a.ui.position[h[b]][l](g,{targetWidth:k,targetHeight:j,elemWidth:d,elemHeight:c,offset:i,my:e.my,at:e.at})});a.fn.bgiframe&&b.bgiframe();b.offset(a.extend(g,{using:e.using}))})};
a.ui.position={fit:{left:function(b,d){var e=a(window),e=b.left+d.elemWidth-e.width()-e.scrollLeft();b.left=e>0?b.left-e:Math.max(0,b.left)},top:function(b,d){var e=a(window),e=b.top+d.elemHeight-e.height()-e.scrollTop();b.top=e>0?b.top-e:Math.max(0,b.top)}},flip:{left:function(b,d){if(d.at[0]!=="center"){var e=a(window),e=b.left+d.elemWidth-e.width()-e.scrollLeft(),c=d.my[0]==="left"?-d.elemWidth:d.my[0]==="right"?d.elemWidth:0,k=-2*d.offset[0];b.left+=b.left<0?c+d.targetWidth+k:e>0?c-d.targetWidth+
k:0}},top:function(b,d){if(d.at[1]!=="center"){var e=a(window),e=b.top+d.elemHeight-e.height()-e.scrollTop(),c=d.my[1]==="top"?-d.elemHeight:d.my[1]==="bottom"?d.elemHeight:0,k=d.at[1]==="top"?d.targetHeight:-d.targetHeight,j=-2*d.offset[1];b.top+=b.top<0?c+d.targetHeight+j:e>0?c+k+j:0}}}};if(!a.offset.setOffset)a.offset.setOffset=function(b,d){if(/static/.test(a.curCSS(b,"position")))b.style.position="relative";var e=a(b),c=e.offset(),k=parseInt(a.curCSS(b,"top",!0),10)||0,j=parseInt(a.curCSS(b,
"left",!0),10)||0,c={top:d.top-c.top+k,left:d.left-c.left+j};"using"in d?d.using.call(b,c):e.css(c)},a.fn.offset=function(b){var d=this[0];return!d||!d.ownerDocument?null:b?this.each(function(){a.offset.setOffset(this,b)}):e.call(this)}})(jQuery);(function(a){a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:"center",resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");var b=this,c=b.options,d=c.title||b.originalTitle||"&#160;",e=a.ui.dialog.getTitleId(b.element),f=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+
c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(d){c.closeOnEscape&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(a){b.moveToTop(!1,a)});b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(f);var g=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(f),
h=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){h.addClass("ui-state-hover")},function(){h.removeClass("ui-state-hover")}).focus(function(){h.addClass("ui-state-focus")}).blur(function(){h.removeClass("ui-state-focus")}).click(function(a){b.close(a);return!1}).appendTo(g);(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(h);a("<span></span>").addClass("ui-dialog-title").attr("id",
e).html(d).prependTo(g);if(a.isFunction(c.beforeclose)&&!a.isFunction(c.beforeClose))c.beforeClose=c.beforeclose;g.find("*").add(g).disableSelection();c.draggable&&a.fn.draggable&&b._makeDraggable();c.resizable&&a.fn.resizable&&b._makeResizable();b._createButtons(c.buttons);b._isOpen=!1;a.fn.bgiframe&&f.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");
this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);return this},widget:function(){return this.uiDialog},close:function(b){var c=this,d;if(!1!==c._trigger("beforeClose",b)){c.overlay&&c.overlay.destroy();c.uiDialog.unbind("keypress.ui-dialog");c._isOpen=!1;c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b));a.ui.dialog.overlay.resize();if(c.options.modal)d=0,a(".ui-dialog").each(function(){this!==
c.uiDialog[0]&&(d=Math.max(d,a(this).css("z-index")))}),a.ui.dialog.maxZ=d;return c}},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this.options;if(d.modal&&!b||!d.stack&&!d.modal)return this._trigger("focus",c);if(d.zIndex>a.ui.dialog.maxZ)a.ui.dialog.maxZ=d.zIndex;if(this.overlay)a.ui.dialog.maxZ+=1,this.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ);d={scrollTop:this.element.attr("scrollTop"),scrollLeft:this.element.attr("scrollLeft")};a.ui.dialog.maxZ+=
1;this.uiDialog.css("z-index",a.ui.dialog.maxZ);this.element.attr(d);this._trigger("focus",c);return this},open:function(){if(!this._isOpen){var b=this.options,c=this.uiDialog;this.overlay=b.modal?new a.ui.dialog.overlay(this):null;c.next().length&&c.appendTo("body");this._size();this._position(b.position);c.show(b.show);this.moveToTop(!0);b.modal&&c.bind("keypress.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var e=a(":tabbable",this),c=e.filter(":first"),e=e.filter(":last");if(b.target===
e[0]&&!b.shiftKey)return c.focus(1),!1;else if(b.target===c[0]&&b.shiftKey)return e.focus(1),!1}});a([]).add(c.find(".ui-dialog-content :tabbable:first")).add(c.find(".ui-dialog-buttonpane :tabbable:first")).add(c).filter(":first").focus();this._trigger("open");this._isOpen=!0;return this}},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");c.uiDialog.find(".ui-dialog-buttonpane").remove();typeof b==="object"&&b!==null&&
a.each(b,function(){return!(d=!0)});d&&(a.each(b,function(b,d){var h=a('<button type="button"></button>').text(b).click(function(){d.apply(c.element[0],arguments)}).appendTo(e);a.fn.button&&h.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=c.options,e=a(document),f;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,h){f=
d.height==="auto"?"auto":a(this).height();a(this).height(a(this).height()).addClass("ui-dialog-dragging");c._trigger("dragStart",e,b(h))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(g,h){d.position=[h.position.left-e.scrollLeft(),h.position.top-e.scrollTop()];a(this).removeClass("ui-dialog-dragging").height(f);c._trigger("dragStop",g,b(h));a.ui.dialog.overlay.resize()}})},_makeResizable:function(b){function c(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
position:a.position,size:a.size}}var b=b===void 0?this.options.resizable:b,d=this,e=d.options,f=d.uiDialog.css("position"),b=typeof b==="string"?b:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:b,start:function(b,e){a(this).addClass("ui-dialog-resizing");d._trigger("resizeStart",b,c(e))},resize:function(a,b){d._trigger("resize",a,c(b))},
stop:function(b,f){a(this).removeClass("ui-dialog-resizing");e.height=a(this).height();e.width=a(this).width();d._trigger("resizeStop",b,c(f));a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],b=b||a.ui.dialog.prototype.options.position;if(typeof b==="string"||typeof b==="object"&&
"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)});else if(typeof b==="object")"left"in b?(c[0]="left",d[0]=b.left):"right"in b&&(c[0]="right",d[0]=-b.right),"top"in b?(c[1]="top",d[1]=b.top):"bottom"in b&&(c[1]="bottom",d[1]=-b.bottom);(b=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position({my:c.join(" "),at:c.join(" "),offset:d.join(" "),of:window,collision:"fit",using:function(b){var d=
a(this).css(b).offset().top;d<0&&a(this).css("top",b.top-d)}});b||this.uiDialog.hide()},_setOption:function(b,c){var d=this.uiDialog,e=d.is(":data(resizable)"),f=!1;switch(b){case "beforeclose":b="beforeClose";break;case "buttons":this._createButtons(c);break;case "closeText":this.uiDialogTitlebarCloseText.text(""+c);break;case "dialogClass":d.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case "disabled":c?d.addClass("ui-dialog-disabled"):
d.removeClass("ui-dialog-disabled");break;case "draggable":c?this._makeDraggable():d.draggable("destroy");break;case "height":f=!0;break;case "maxHeight":e&&d.resizable("option","maxHeight",c);f=!0;break;case "maxWidth":e&&d.resizable("option","maxWidth",c);f=!0;break;case "minHeight":e&&d.resizable("option","minHeight",c);f=!0;break;case "minWidth":e&&d.resizable("option","minWidth",c);f=!0;break;case "position":this._position(c);break;case "resizable":e&&!c&&d.resizable("destroy");e&&typeof c===
"string"&&d.resizable("option","handles",c);!e&&c!==!1&&this._makeResizable(c);break;case "title":a(".ui-dialog-title",this.uiDialogTitlebar).html(""+(c||"&#160;"));break;case "width":f=!0}a.Widget.prototype._setOption.apply(this,arguments);f&&this._size()},_size:function(){var a=this.options,c;this.element.css("width","auto").hide();c=this.uiDialog.css({height:"auto",width:a.width}).height();this.element.css(a.height==="auto"?{minHeight:Math.max(a.minHeight-c,0),height:"auto"}:{minHeight:0,height:Math.max(a.height-
c,0)}).show();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});a.extend(a.ui.dialog,{version:"1.8",uuid:0,maxZ:0,getTitleId:function(a){a=a.attr("id");if(!a)this.uuid+=1,a=this.uuid;return"ui-dialog-title-"+a},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}});a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),
create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){return a(b.target).zIndex()>=a.ui.dialog.overlay.maxZ})},1),a(document).bind("keydown.dialog-overlay",function(d){b.options.closeOnEscape&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),
height:this.height()});a.fn.bgiframe&&c.bgiframe();this.instances.push(c);return c},destroy:function(b){this.oldInstances.push(this.instances.splice(a.inArray(b,this.instances),1)[0]);this.instances.length===0&&a([document,window]).unbind(".dialog-overlay");b.remove();var c=0;a.each(this.instances,function(){c=Math.max(c,this.css("z-index"))});this.maxZ=c},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),
c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)});
b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}});a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(a){var b,c=function(b){a(":ui-button",b.target.form).each(function(){var b=a(this).data("button");setTimeout(function(){b.refresh()},1)})},d=function(b){var d=b.name,c=b.form,h=a([]);d&&(h=c?a(c).find("[name='"+d+"']"):a("[name='"+d+"']",b.ownerDocument).filter(function(){return!this.form}));return h};a.widget("ui.button",{options:{text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",c);this._determineButtonType();
this.hasTitle=!!this.buttonElement.attr("title");var e=this,f=this.options,g=this.type==="checkbox"||this.type==="radio",h="ui-state-hover"+(!g?" ui-state-active":"");if(f.label===null)f.label=this.buttonElement.html();if(this.element.is(":disabled"))f.disabled=!0;this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){f.disabled||(a(this).addClass("ui-state-hover"),this===b&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",
function(){f.disabled||a(this).removeClass(h)}).bind("focus.button",function(){a(this).addClass("ui-state-focus")}).bind("blur.button",function(){a(this).removeClass("ui-state-focus")});g&&this.element.bind("change.button",function(){e.refresh()});this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(f.disabled)return!1;a(this).toggleClass("ui-state-active");e.buttonElement.attr("aria-pressed",e.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",
function(){if(f.disabled)return!1;a(this).addClass("ui-state-active");e.buttonElement.attr("aria-pressed",!0);var b=e.element[0];d(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",!1)}):(this.buttonElement.bind("mousedown.button",function(){if(f.disabled)return!1;a(this).addClass("ui-state-active");b=this;a(document).one("mouseup",function(){b=null})}).bind("mouseup.button",function(){if(f.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",
function(b){if(f.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",f.disabled)},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?
"input":"button";if(this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("[for="+this.element.attr("id")+"]");this.element.addClass("ui-helper-hidden-accessible");var a=this.element.is(":checked");a&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",a)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title");a.Widget.prototype.destroy.call(this)},_setOption:function(b,d){a.Widget.prototype._setOption.apply(this,arguments);b==="disabled"&&(d?this.element.attr("disabled",!0):this.element.removeAttr("disabled"));this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b);this.type==="radio"?d(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
!0):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",!1)}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",!0):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",!1))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement;a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text();
var d=this.options.icons,c=d.primary&&d.secondary;d.primary||d.secondary?(b.addClass("ui-button-text-icon"+(c?"s":"")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||b.addClass(c?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon")):b.addClass("ui-button-text-only")}}});a.widget("ui.buttonset",
{_create:function(){this.element.addClass("ui-buttonset");this._init()},_init:function(){this.refresh()},_setOption:function(b,d){b==="disabled"&&this.buttons.button("option",b,d);a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(":button, :submit, :reset, :checkbox, :radio, a, :data(button)").filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},
destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var b=this,e=this.options;this.element.addClass("ui-resizable");a.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],
_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i))/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),
this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize",
"none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize();this.handles=e.handles||(!a(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles==
"all")this.handles="n,e,s,w,se,sw,ne,nw";var c=this.handles.split(",");this.handles={};for(var g=0;g<c.length;g++){var h=a.trim(c[g]),i=a('<div class="ui-resizable-handle ui-resizable-'+h+'"></div>');/sw|se|ne|nw/.test(h)&&i.css({zIndex:++e.zIndex});"se"==h&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[h]=".ui-resizable-"+h;this.element.append(i)}}this._renderAxis=function(b){var b=b||this.element,d;for(d in this.handles){this.handles[d].constructor==String&&(this.handles[d]=a(this.handles[d],
this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var e=a(this.handles[d],this.element),c=0,c=/sw|ne|nw|se|n|s/.test(d)?e.outerHeight():e.outerWidth(),e=["padding",/ne|nw|n/.test(d)?"Top":/se|sw|s/.test(d)?"Bottom":/^e$/.test(d)?"Right":"Left"].join("");b.css(e,c);this._proportionallyResize()}a(this.handles[d])}};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=
this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}});e.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){a(this).removeClass("ui-resizable-autohide");b._handles.show()},function(){b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())}));this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){b(this.element);var e=this.element;e.after(this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this},_mouseCapture:function(b){var e=!1,c;for(c in this.handles)a(this.handles[c])[0]==b.target&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(d){var e=this.options,c=this.element.position(),
g=this.element;this.resizing=!0;this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()};(g.is(".ui-draggable")||/absolute/.test(g.css("position")))&&g.css({position:"absolute",top:c.top,left:c.left});a.browser.opera&&/relative/.test(g.css("position"))&&g.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();var c=b(this.helper.css("left")),h=b(this.helper.css("top"));e.containment&&(c+=a(e.containment).scrollLeft()||0,h+=a(e.containment).scrollTop()||0);this.offset=
this.helper.offset();this.position={left:c,top:h};this.size=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalPosition={left:c,top:h};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()};this.originalMousePosition={left:d.pageX,top:d.pageY};this.aspectRatio=typeof e.aspectRatio=="number"?e.aspectRatio:
this.originalSize.width/this.originalSize.height||1;e=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor",e=="auto"?this.axis+"-resize":e);g.addClass("ui-resizable-resizing");this._propagate("start",d);return!0},_mouseDrag:function(a){var b=this.helper,c=this.originalMousePosition,g=this._change[this.axis];if(!g)return!1;c=g.apply(this,[a,a.pageX-c.left||0,a.pageY-c.top||0]);if(this._aspectRatio||a.shiftKey)c=this._updateRatio(c,a);c=this._respectSize(c,a);this._propagate("resize",
a);b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(c);this._trigger("resize",a,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var e=this.options;if(this._helper){var c=this._proportionallyResizeElements,g=c.length&&/textarea/i.test(c[0].nodeName),c=g&&a.ui.hasScroll(c[0],"left")?0:this.sizeDiff.height,g={width:this.size.width-
(g?0:this.sizeDiff.width),height:this.size.height-c},c=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,h=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;e.animate||this.element.css(a.extend(g,{top:h,left:c}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!e.animate&&this._proportionallyResize()}a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");
this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updateCache:function(a){this.offset=this.helper.offset();if(c(a.left))this.position.left=a.left;if(c(a.top))this.position.top=a.top;if(c(a.height))this.size.height=a.height;if(c(a.width))this.size.width=a.width},_updateRatio:function(a){var b=this.position,c=this.size,g=this.axis;if(a.height)a.width=c.height*this.aspectRatio;else if(a.width)a.height=c.width/this.aspectRatio;if(g=="sw")a.left=b.left+(c.width-a.width),a.top=null;
if(g=="nw")a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width);return a},_respectSize:function(a){var b=this.options,f=this.axis,g=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,h=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,i=c(a.width)&&b.minWidth&&b.minWidth>a.width,k=c(a.height)&&b.minHeight&&b.minHeight>a.height;if(i)a.width=b.minWidth;if(k)a.height=b.minHeight;if(g)a.width=b.maxWidth;if(h)a.height=b.maxHeight;var j=this.originalPosition.left+this.originalSize.width,l=this.position.top+
this.size.height,n=/sw|nw|w/.test(f),f=/nw|ne|n/.test(f);if(i&&n)a.left=j-b.minWidth;if(g&&n)a.left=j-b.maxWidth;if(k&&f)a.top=l-b.minHeight;if(h&&f)a.top=l-b.maxHeight;if((b=!a.width&&!a.height)&&!a.left&&a.top)a.top=null;else if(b&&!a.top&&a.left)a.left=null;return a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var f=this._proportionallyResizeElements[c];if(!this.borderDif){var g=
[f.css("borderTopWidth"),f.css("borderRightWidth"),f.css("borderBottomWidth"),f.css("borderLeftWidth")],h=[f.css("paddingTop"),f.css("paddingRight"),f.css("paddingBottom"),f.css("paddingLeft")];this.borderDif=a.map(g,function(a,b){var d=parseInt(a,10)||0,c=parseInt(h[b],10)||0;return d+c})}if(!a.browser.msie||!a(b).is(":hidden")&&!a(b).parents(":hidden").length)f.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=
this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var c=a.browser.msie&&a.browser.version<7,f=c?1:0,c=c?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+c,height:this.element.outerHeight()+c,position:"absolute",left:this.elementOffset.left-f+"px",top:this.elementOffset.top-f+"px",zIndex:++b.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,
b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,f){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,f]))},sw:function(b,c,f){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,
f]))},ne:function(b,c,f){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,f]))},nw:function(b,c,f){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,f]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]);b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,
originalPosition:this.originalPosition}}});a.extend(a.ui.resizable,{version:"1.8"});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("resizable").options,c=function(b){a(b).each(function(){a(this).data("resizable-alsoresize",{width:parseInt(a(this).width(),10),height:parseInt(a(this).height(),10),left:parseInt(a(this).css("left"),10),top:parseInt(a(this).css("top"),10)})})};typeof b.alsoResize=="object"&&!b.alsoResize.parentNode?b.alsoResize.length?(b.alsoResize=b.alsoResize[0],
c(b.alsoResize)):a.each(b.alsoResize,function(a){c(a)}):c(b.alsoResize)},resize:function(){var b=a(this).data("resizable"),c=b.options,f=b.originalSize,g=b.originalPosition,h={height:b.size.height-f.height||0,width:b.size.width-f.width||0,top:b.position.top-g.top||0,left:b.position.left-g.left||0},i=function(c,e){a(c).each(function(){var c=a(this),f=a(this).data("resizable-alsoresize"),g={};a.each((e&&e.length?e:["width","height","top","left"])||["width","height","top","left"],function(a,b){var c=
(f[b]||0)+(h[b]||0);c&&c>=0&&(g[b]=c||null)});if(/relative/.test(c.css("position"))&&a.browser.opera)b._revertToRelativePosition=!0,c.css({position:"absolute",top:"auto",left:"auto"});c.css(g)})};typeof c.alsoResize=="object"&&!c.alsoResize.nodeType?a.each(c.alsoResize,function(a,b){i(a,b)}):i(c.alsoResize)},stop:function(){var b=a(this).data("resizable");if(b._revertToRelativePosition&&a.browser.opera)b._revertToRelativePosition=!1,el.css({position:"relative"});a(this).removeData("resizable-alsoresize-start")}});
a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("resizable"),f=c.options,g=c._proportionallyResizeElements,h=g.length&&/textarea/i.test(g[0].nodeName),i=h&&a.ui.hasScroll(g[0],"left")?0:c.sizeDiff.height,h={width:c.size.width-(h?0:c.sizeDiff.width),height:c.size.height-i},i=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(h,k&&i?
{top:k,left:i}:{}),{duration:f.animateDuration,easing:f.animateEasing,step:function(){var f={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};g&&g.length&&a(g[0]).css({width:f.width,height:f.height});c._updateCache(f);c._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var c=a(this).data("resizable"),e=c.element,f=c.options.containment;if(e=f instanceof
a?f.get(0):/parent/.test(f)?e.parent().get(0):f)if(c.containerElement=a(e),/document/.test(f)||f==document)c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var g=a(e),h=[];a(["Top","Right","Left","Bottom"]).each(function(a,c){h[a]=b(g.css("padding"+c))});c.containerOffset=g.offset();c.containerPosition=g.position();c.containerSize={height:g.innerHeight()-
h[3],width:g.innerWidth()-h[1]};var f=c.containerOffset,i=c.containerSize.height,k=c.containerSize.width,k=a.ui.hasScroll(e,"left")?e.scrollWidth:k,i=a.ui.hasScroll(e)?e.scrollHeight:i;c.parentData={element:e,left:f.left,top:f.top,width:k,height:i}}},resize:function(b){var c=a(this).data("resizable"),f=c.options,g=c.containerOffset,h=c.position,b=c._aspectRatio||b.shiftKey,i={top:0,left:0},k=c.containerElement;k[0]!=document&&/static/.test(k.css("position"))&&(i=g);if(h.left<(c._helper?g.left:0)){c.size.width+=
c._helper?c.position.left-g.left:c.position.left-i.left;if(b)c.size.height=c.size.width/f.aspectRatio;c.position.left=f.helper?g.left:0}if(h.top<(c._helper?g.top:0)){c.size.height+=c._helper?c.position.top-g.top:c.position.top;if(b)c.size.width=c.size.height*f.aspectRatio;c.position.top=c._helper?g.top:0}c.offset.left=c.parentData.left+c.position.left;c.offset.top=c.parentData.top+c.position.top;f=Math.abs((c._helper?c.offset.left-i.left:c.offset.left-i.left)+c.sizeDiff.width);g=Math.abs((c._helper?
c.offset.top-i.top:c.offset.top-g.top)+c.sizeDiff.height);h=c.containerElement.get(0)==c.element.parent().get(0);i=/relative|absolute/.test(c.containerElement.css("position"));h&&i&&(f-=c.parentData.left);if(f+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-f,b))c.size.height=c.size.width/c.aspectRatio;if(g+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-g,b))c.size.width=c.size.height*c.aspectRatio},stop:function(){var b=a(this).data("resizable"),c=b.options,
f=b.containerOffset,g=b.containerPosition,h=b.containerElement,i=a(b.helper),k=i.offset(),j=i.outerWidth()-b.sizeDiff.width,i=i.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(h.css("position"))&&a(this).css({left:k.left-g.left-f.left,width:j,height:i});b._helper&&!c.animate&&/static/.test(h.css("position"))&&a(this).css({left:k.left-g.left-f.left,width:j,height:i})}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("resizable"),c=b.options,f=b.size;
b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof c.ghost=="string"?c.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});
a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("resizable"),c=b.options,f=b.size,g=b.originalSize,h=b.originalPosition,i=b.axis;c.grid=typeof c.grid=="number"?[c.grid,c.grid]:c.grid;var k=Math.round((f.width-g.width)/(c.grid[0]||1))*(c.grid[0]||1),c=Math.round((f.height-g.height)/(c.grid[1]||1))*(c.grid[1]||1);/^(se|s|e)$/.test(i)?(b.size.width=g.width+k,b.size.height=g.height+c):/^(ne)$/.test(i)?(b.size.width=g.width+k,b.size.height=g.height+c,b.position.top=h.top-c):(/^(sw)$/.test(i)?
(b.size.width=g.width+k,b.size.height=g.height+c):(b.size.width=g.width+k,b.size.height=g.height+c,b.position.top=h.top-c),b.position.left=h.left-k)}});var b=function(a){return parseInt(a,10)||0},c=function(a){return!isNaN(parseInt(a,10))}})(jQuery);(function(a){a.widget("ui.autocomplete",{options:{minLength:1,delay:300},_create:function(){var b=this,c=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._move("previous",c);c.preventDefault();
break;case e.DOWN:b._move("next",c);c.preventDefault();break;case e.ENTER:b.menu.active&&c.preventDefault();case e.TAB:if(!b.menu.active)break;b.menu.select();break;case e.ESCAPE:b.element.val(b.term);b.close(c);break;case e.SHIFT:case e.CONTROL:case 18:break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.search(null,c)},b.options.delay)}}).bind("focus.autocomplete",function(){b.previous=b.element.val()}).bind("blur.autocomplete",function(a){clearTimeout(b.searching);b.closing=
setTimeout(function(){b.close(a)},150)});this._initSource();this.response=function(){return b._response.apply(b,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo("body",c).menu({focus:function(a,c){var f=c.item.data("item.autocomplete");!1!==b._trigger("focus",null,{item:f})&&b.element.val(f.value)},selected:function(a,e){var f=e.item.data("item.autocomplete");!1!==b._trigger("select",a,{item:f})&&b.element.val(f.value);b.close(a);b.previous=b.element.val();b.element[0]!==
c.activeElement&&b.element.focus()},blur:function(){b.menu.element.is(":visible")&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input ui-widget ui-widget-content").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(b){a.Widget.prototype._setOption.apply(this,
arguments);b==="source"&&this._initSource()},_initSource:function(){var b,c;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,e){var f=RegExp(a.ui.autocomplete.escapeRegex(c.term),"i");e(a.grep(b,function(a){return f.test(a.label||a.value||a)}))}):typeof this.options.source==="string"?(c=this.options.source,this.source=function(b,e){a.getJSON(c,b,e)}):this.source=this.options.source},search:function(a,c){a=a!=null?a:this.element.val();if(a.length<this.options.minLength)return this.close(c);
clearTimeout(this.closing);return this._trigger("search")===!1?void 0:this._search(a)},_search:function(a){this.term=this.element.addClass("ui-autocomplete-loading").val();this.source({term:a},this.response)},_response:function(a){a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close();this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing);this.menu.element.is(":visible")&&(this._trigger("close",a),this.menu.element.hide(),this.menu.deactivate());
this.previous!==this.element.val()&&this._trigger("change",a)},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b==="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(a){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1),d;this._renderMenu(c,a);this.menu.deactivate();this.menu.refresh();this.menu.element.show().position({my:"left top",at:"left bottom",of:this.element,collision:"none"});
a=c.width("").width();d=this.element.width();c.width(Math.max(a,d))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append("<a>"+c.label+"</a>").appendTo(b)},_move:function(a,c){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a))this.element.val(this.term),this.menu.deactivate();else this.menu[a]();else this.search(null,c)},widget:function(){return this.menu.element}});
a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")}})})(jQuery);
(function(a){a.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){c.preventDefault();a.select()});this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(){b.activate(a(this).parent())}).mouseleave(function(){b.deactivate()})},
activate:function(a){this.deactivate();if(this.hasScroll()){var c=a.offset().top-this.element.offset().top,d=this.element.attr("scrollTop"),e=this.element.height();c<0?this.element.attr("scrollTop",d+c):c>e&&this.element.attr("scrollTop",d+c-e+a.height())}this.active=a.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",null,{item:a})},deactivate:function(){if(this.active)this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),
this._trigger("blur"),this.active=null},next:function(){this.move("next","li:first")},previous:function(){this.move("prev","li:last")},first:function(){return this.active&&!this.active.prev().length},last:function(){return this.active&&!this.active.next().length},move:function(a,c){if(this.active){var d=this.active[a]();d.length?this.activate(d):this.activate(this.element.children(c))}else this.activate(this.element.children(c))},nextPage:function(){if(this.hasScroll())if(!this.active||this.last())this.activate(this.element.children(":first"));
else{var b=this.active.offset().top,c=this.element.height(),d=this.element.children("li").filter(function(){var d=a(this).offset().top-b-c+a(this).height();return d<10&&d>-10});d.length||(d=this.element.children(":last"));this.activate(d)}else this.activate(this.element.children(!this.active||this.last()?":first":":last"))},previousPage:function(){if(this.hasScroll())if(!this.active||this.first())this.activate(this.element.children(":last"));else{var b=this.active.offset().top,c=this.element.height();
result=this.element.children("li").filter(function(){var d=a(this).offset().top-b+c-a(this).height();return d<10&&d>-10});result.length||(result=this.element.children(":first"));this.activate(result)}else this.activate(this.element.children(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(){this._trigger("selected",null,{item:this.active})}})})(jQuery);(function(a){a.extend({tabs:{remoteCount:0}});a.fn.tabs=function(b,c){typeof b=="object"&&(c=b);c=a.extend({initial:b&&typeof b=="number"&&b>0?--b:0,disabled:null,bookmarkable:a.ajaxHistory?!0:!1,remote:!1,spinner:"Loading&#8230;",hashPrefix:"remote-tab-",fxFade:null,fxSlide:null,fxShow:null,fxHide:null,fxSpeed:"normal",fxShowSpeed:null,fxHideSpeed:null,fxAutoHeight:!1,onClick:null,onHide:null,onShow:null,navClass:"tabs-nav",selectedClass:"tabs-selected",disabledClass:"tabs-disabled",containerClass:"tabs-container",
hideClass:"tabs-hide",loadingClass:"tabs-loading",tabStruct:"div"},c||{});a.browser.msie6=a.browser.msie&&(a.browser.version&&a.browser.version<7||/MSIE 6.0/.test(navigator.userAgent));return this.each(function(){var b=this,d=a("ul."+c.navClass,b),d=d.size()&&d||a(">ul:eq(0)",b),h=a("a",d);c.remote&&h.each(function(){var d=c.hashPrefix+ ++a.tabs.remoteCount,g="#"+d,D=this.href;this.href=g;a('<div id="'+d+'" class="'+c.containerClass+'"></div>').appendTo(b);a(this).bind("loadRemoteTab",function(b,
d){var f=a(this).addClass(c.loadingClass),G=a("span",this)[0],h=G.innerHTML;if(c.spinner)G.innerHTML="<em>"+c.spinner+"</em>";setTimeout(function(){a(g).load(D,function(){if(c.spinner)G.innerHTML=h;f.removeClass(c.loadingClass);d&&d()})},0)})});var i=a("div."+c.containerClass,b),i=i.size()&&i||a(">"+c.tabStruct,b);d.is("."+c.navClass)||d.addClass(c.navClass);i.each(function(){var b=a(this);b.is("."+c.containerClass)||b.addClass(c.containerClass)});var k=a("li",d).index(a("li."+c.selectedClass,d)[0]);
if(k>=0)c.initial=k;location.hash&&h.each(function(b){if(this.hash==location.hash){c.initial=b;if((a.browser.msie||a.browser.opera)&&!c.remote){var d=a(location.hash),f=d.attr("id");d.attr("id","");setTimeout(function(){d.attr("id",f)},500)}scrollTo(0,0);return!1}});a.browser.msie&&scrollTo(0,0);i.filter(":eq("+c.initial+")").show().end().not(":eq("+c.initial+")").addClass(c.hideClass);a("li",d).removeClass(c.selectedClass).eq(c.initial).addClass(c.selectedClass);h.eq(c.initial).trigger("loadRemoteTab").end();
if(c.fxAutoHeight){var j=function(b){var c=a.map(i.get(),function(c){var d=a(c);if(b){if(a.browser.msie6)c.style.removeExpression("behaviour"),c.style.height="",c.minHeight=null;c=d.css({"min-height":""}).height()}else c=d.height();return c}).sort(function(a,b){return b-a});a.browser.msie6?i.each(function(){this.minHeight=c[0]+"px";this.style.setExpression("behaviour",'this.style.height = this.minHeight ? this.minHeight : "1px"')}):i.css({"min-height":c[0]+"px"})};j();var l=b.offsetWidth,n=b.offsetHeight,
q=a("#tabs-watch-font-size").get(0)||a('<span id="tabs-watch-font-size">M</span>').css({display:"block",position:"absolute",visibility:"hidden"}).appendTo(document.body).get(0),o=q.offsetHeight;setInterval(function(){var a=b.offsetWidth,c=b.offsetHeight,d=q.offsetHeight;if(c>n||a!=l||d!=o)j(a>l||d<o),l=a,n=c,o=d},50)}var r={},s={},m=c.fxShowSpeed||c.fxSpeed,t=c.fxHideSpeed||c.fxSpeed;if(c.fxSlide||c.fxFade){if(c.fxSlide)r.height="show",s.height="hide";if(c.fxFade)r.opacity="show",s.opacity="hide"}else c.fxShow?
r=c.fxShow:(r["min-width"]=0,m=1),c.fxHide?s=c.fxHide:(s["min-width"]=0,t=1);var D=c.onClick,G=c.onHide,M=c.onShow;h.bind("triggerTab",function(){var d=a(this).parents("li:eq(0)");if(b.locked||d.is("."+c.selectedClass)||d.is("."+c.disabledClass))return!1;d=this.hash;if(a.browser.msie){if(a(this).trigger("click"),c.bookmarkable)a.ajaxHistory.update(d),location.hash=d.replace("#","")}else a.browser.safari?(a('<form action="'+d+'"><div><input type="submit" value="h" /></div></form>').get(0).submit(),
a(this).trigger("click"),c.bookmarkable&&a.ajaxHistory.update(d)):c.bookmarkable?location.hash=d.replace("#",""):a(this).trigger("click")});h.bind("disableTab",function(){var b=a(this).parents("li:eq(0)");a.browser.safari&&b.animate({opacity:0},1,function(){b.css({opacity:""})});b.addClass(c.disabledClass)});if(c.disabled&&c.disabled.length){d=0;for(k=c.disabled.length;d<k;d++)h.eq(--c.disabled[d]).trigger("disableTab").end()}h.bind("enableTab",function(){var b=a(this).parents("li:eq(0)");b.removeClass(c.disabledClass);
a.browser.safari&&b.animate({opacity:1},1,function(){b.css({opacity:""})})});h.bind("click",function(d){var g=d.clientX,h=this,d=a(this).parents("li:eq(0)"),l=a(this.hash),v=i.filter(":visible");if(b.locked||d.is("."+c.selectedClass)||d.is("."+c.disabledClass)||typeof D=="function"&&D(this,l[0],v[0])===!1)return this.blur(),!1;b.locked=!0;if(l.size()){if(a.browser.msie&&c.bookmarkable){var k=this.hash.replace("#","");l.attr("id","");setTimeout(function(){l.attr("id",k)},0)}var j={display:"",overflow:"",
height:""};a.browser.msie||(j.opacity="");d=function(){c.bookmarkable&&g&&a.ajaxHistory.update(h.hash);v.animate(s,t,function(){a(h).parents("li:eq(0)").addClass(c.selectedClass).siblings().removeClass(c.selectedClass);v.addClass(c.hideClass).css(j);typeof G=="function"&&G(h,l[0],v[0]);!c.fxSlide&&!c.fxFade&&!c.fxShow&&l.css("display","block");l.animate(r,m,function(){l.removeClass(c.hideClass).css(j);if(a.browser.msie)v[0].style.filter="",l[0].style.filter="";typeof M=="function"&&M(h,l[0],v[0]);
b.locked=null})})};c.remote?a(h).trigger("loadRemoteTab",[d]):d()}else alert("There is no such container.");var n=window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft||0,o=window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop||0;setTimeout(function(){window.scrollTo(n,o)},0);this.blur();return c.bookmarkable&&!!g});c.bookmarkable&&a.ajaxHistory.initialize(function(){h.eq(c.initial).trigger("click").end()})})};
for(var b=["triggerTab","disableTab","enableTab"],c=0;c<b.length;c++)a.fn[b[c]]=function(b){return function(c){return this.each(function(){var f=a("ul.tabs-nav",this),f=f.size()&&f||a(">ul:eq(0)",this),g;!c||typeof c=="number"?g=a("li a",f).eq(c&&c>0&&c-1||0):typeof c=="string"&&(g=a('li a[@href$="#'+c+'"]',f));g.trigger(b)})}}(b[c]);a.fn.activeTab=function(){var b=[];this.each(function(){var c=a("ul.tabs-nav",this),c=c.size()&&c||a(">ul:eq(0)",this),c=a("li",c);b.push(c.index(c.filter(".tabs-selected")[0])+
1)});return b[0]}})(jQuery);(function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:0.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(b,c,d){c==null&&(c="Alert");a.alerts._show(c,b,null,"alert",function(a){d&&d(a)})},confirm:function(b,c,d){c==null&&(c="Confirm");a.alerts._show(c,b,null,"confirm",function(a){d&&d(a)})},prompt:function(b,c,d,e){d==null&&(d="Prompt");a.alerts._show(d,b,c,"prompt",function(a){e&&
e(a)})},_show:function(b,c,d,e,f){a.alerts._hide();a.alerts._overlay("show");a("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_message"></div></div></div>');a.alerts.dialogClass&&a("#popup_container").addClass(a.alerts.dialogClass);var g=a.browser.msie&&parseInt(a.browser.version)<=6?"absolute":"fixed";a("#popup_container").css({position:g,zIndex:99999,padding:0,margin:0});a("#popup_title").text(b);a("#popup_content").addClass(e);a("#popup_message").text(c);
a("#popup_message").html(a("#popup_message").text().replace(/\n/g,"<br />"));a("#popup_container").css({minWidth:a("#popup_container").outerWidth(),maxWidth:a("#popup_container").outerWidth()});a.alerts._reposition();a.alerts._maintainPosition(!0);switch(e){case "alert":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /></div>');a("#popup_ok").click(function(){a.alerts._hide();f(!0)});a("#popup_ok").focus().keypress(function(b){(b.keyCode==
13||b.keyCode==27)&&a("#popup_ok").trigger("click")});break;case "confirm":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_ok").click(function(){a.alerts._hide();f&&f(!0)});a("#popup_cancel").click(function(){a.alerts._hide();f&&f(!1)});a("#popup_ok").focus();a("#popup_ok, #popup_cancel").keypress(function(b){b.keyCode==13&&a("#popup_ok").trigger("click");
b.keyCode==27&&a("#popup_cancel").trigger("click")});break;case "prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>'),a("#popup_prompt").width(a("#popup_message").width()),a("#popup_ok").click(function(){var b=a("#popup_prompt").val();a.alerts._hide();f&&f(b)}),a("#popup_cancel").click(function(){a.alerts._hide();
f&&f(null)}),a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(b){b.keyCode==13&&a("#popup_ok").trigger("click");b.keyCode==27&&a("#popup_cancel").trigger("click")}),d&&a("#popup_prompt").val(d),a("#popup_prompt").focus().select()}if(a.alerts.draggable)try{a("#popup_container").draggable({handle:a("#popup_title")}),a("#popup_title").css({cursor:"move"})}catch(h){}},_hide:function(){a("#popup_container").remove();a.alerts._overlay("hide");a.alerts._maintainPosition(!1)},_overlay:function(b){switch(b){case "show":a.alerts._overlay("hide");
a("BODY").append('<div id="popup_overlay"></div>');a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case "hide":a("#popup_overlay").remove()}},_reposition:function(){var b=a(window).height()/2-a("#popup_container").outerHeight()/2+a.alerts.verticalOffset,c=a(window).width()/2-a("#popup_container").outerWidth()/2+a.alerts.horizontalOffset;b<0&&(b=0);c<0&&(c=
0);a.browser.msie&&parseInt(a.browser.version)<=6&&(b+=a(window).scrollTop());a("#popup_container").css({top:b+"px",left:c+"px"});a("#popup_overlay").height(a(document).height())},_maintainPosition:function(b){if(a.alerts.repositionOnResize)switch(b){case !0:a(window).bind("resize",a.alerts._reposition);break;case !1:a(window).unbind("resize",a.alerts._reposition)}}};jAlert=function(b,c,d){a.alerts.alert(b,c,d)};jConfirm=function(b,c,d){a.alerts.confirm(b,c,d)};jPrompt=function(b,c,d,e){a.alerts.prompt(b,
c,d,e)}})(jQuery);(function(a){a.fn.hoverIntent=function(b,c){var d={sensitivity:7,interval:100,timeout:0},d=a.extend(d,c?{over:b,out:c}:b),e,f,g,h,i=function(a){e=a.pageX;f=a.pageY},k=function(b,c){c.hoverIntent_t=clearTimeout(c.hoverIntent_t);if(Math.abs(g-e)+Math.abs(h-f)<d.sensitivity)return a(c).unbind("mousemove",i),c.hoverIntent_s=1,d.over.apply(c,[b]);else g=e,h=f,c.hoverIntent_t=setTimeout(function(){k(b,c)},d.interval)},j=function(b){for(var c=(b.type=="mouseover"?b.fromElement:b.toElement)||b.relatedTarget;c&&
c!=this;)try{c=c.parentNode}catch(e){c=this}if(c==this)return!1;var f=jQuery.extend({},b),j=this;if(j.hoverIntent_t)j.hoverIntent_t=clearTimeout(j.hoverIntent_t);if(b.type=="mouseover"){if(g=f.pageX,h=f.pageY,a(j).bind("mousemove",i),j.hoverIntent_s!=1)j.hoverIntent_t=setTimeout(function(){k(f,j)},d.interval)}else if(a(j).unbind("mousemove",i),j.hoverIntent_s==1)j.hoverIntent_t=setTimeout(function(){j.hoverIntent_t=clearTimeout(j.hoverIntent_t);j.hoverIntent_s=0;d.out.apply(j,[f])},d.timeout)};return this.mouseover(j).mouseout(j)}})(jQuery);window.CoolClock=function(a,b,c,d,e){return this.init(a,b,c,d,e)};CoolClock.findAndCreateClocks=function(){for(var a=document.getElementsByTagName("canvas"),b=0;b<a.length;b++){var c=a[b].className.split(" ")[0].split(":");c[0]=="CoolClock"&&new CoolClock(a[b].id,c[2],c[1],c[3]!="noSeconds",c[4])}};CoolClock.addLoadEvent=function(a){var b=window.onload;window.onload=typeof window.onload!="function"?a:function(){b();a()}};
CoolClock.config={clockTracker:{},tickDelay:1E3,longTickDelay:15E3,defaultRadius:55,renderRadius:100,defaultSkin:"swissRail",skins:{swissRail:{outerBorder:{lineWidth:1,radius:95,color:"black",alpha:1},smallIndicator:{lineWidth:2,startAt:89,endAt:93,color:"black",alpha:1},largeIndicator:{lineWidth:4,startAt:80,endAt:93,color:"black",alpha:1},hourHand:{lineWidth:8,startAt:-15,endAt:50,color:"black",alpha:1},minuteHand:{lineWidth:7,startAt:-15,endAt:75,color:"black",alpha:1},secondHand:{lineWidth:1,
startAt:-20,endAt:85,color:"red",alpha:1},secondDecoration:{lineWidth:1,startAt:70,radius:4,fillColor:"red",color:"red",alpha:1}},chunkySwiss:{outerBorder:{lineWidth:4,radius:97,color:"black",alpha:1},smallIndicator:{lineWidth:4,startAt:89,endAt:93,color:"black",alpha:1},largeIndicator:{lineWidth:8,startAt:80,endAt:93,color:"black",alpha:1},hourHand:{lineWidth:12,startAt:-15,endAt:60,color:"black",alpha:1},minuteHand:{lineWidth:10,startAt:-15,endAt:85,color:"black",alpha:1},secondHand:{lineWidth:4,
startAt:-20,endAt:85,color:"red",alpha:1},secondDecoration:{lineWidth:2,startAt:70,radius:8,fillColor:"red",color:"red",alpha:1}},chunkySwissOnBlack:{outerBorder:{lineWidth:4,radius:97,color:"white",alpha:1},smallIndicator:{lineWidth:4,startAt:89,endAt:93,color:"white",alpha:1},largeIndicator:{lineWidth:8,startAt:80,endAt:93,color:"white",alpha:1},hourHand:{lineWidth:12,startAt:-15,endAt:60,color:"white",alpha:1},minuteHand:{lineWidth:10,startAt:-15,endAt:85,color:"white",alpha:1},secondHand:{lineWidth:4,
startAt:-20,endAt:85,color:"red",alpha:1},secondDecoration:{lineWidth:2,startAt:70,radius:8,fillColor:"red",color:"red",alpha:1}}}};
CoolClock.prototype={init:function(a,b,c,d,e){this.canvasId=a;this.displayRadius=b||CoolClock.config.defaultRadius;this.skinId=c||CoolClock.config.defaultSkin;this.showSecondHand=typeof d=="boolean"?d:!0;this.tickDelay=CoolClock.config[this.showSecondHand?"tickDelay":"longTickDelay"];this.canvas=document.getElementById(a);this.canvas.setAttribute("width",this.displayRadius*2);this.canvas.setAttribute("height",this.displayRadius*2);this.canvas.style.width=this.displayRadius*2+"px";this.canvas.style.height=
this.displayRadius*2+"px";this.renderRadius=CoolClock.config.renderRadius;this.scale=this.displayRadius/this.renderRadius;this.ctx=this.canvas.getContext("2d");this.ctx.scale(this.scale,this.scale);this.gmtOffset=e!=null?parseFloat(e):e;CoolClock.config.clockTracker[a]=this;this.tick();return this},fullCircle:function(a){this.fullCircleAt(this.renderRadius,this.renderRadius,a)},fullCircleAt:function(a,b,c){with(this.ctx)save(),globalAlpha=c.alpha,lineWidth=c.lineWidth,document.all||beginPath(),document.all&&
(lineWidth*=this.scale),arc(a,b,c.radius,0,2*Math.PI,!1),document.all&&arc(a,b,c.radius,-0.1,0.1,!1),c.fillColor?(fillStyle=c.fillColor,fill()):(strokeStyle=c.color,stroke()),restore()},radialLineAtAngle:function(a,b){with(this.ctx)save(),translate(this.renderRadius,this.renderRadius),rotate(Math.PI*(2*a-0.5)),globalAlpha=b.alpha,strokeStyle=b.color,lineWidth=b.lineWidth,document.all&&(lineWidth*=this.scale),b.radius?this.fullCircleAt(b.startAt,0,b):(beginPath(),moveTo(b.startAt,0),lineTo(b.endAt,
0),stroke()),restore()},render:function(a,b,c){var d=CoolClock.config.skins[this.skinId];this.ctx.clearRect(0,0,this.renderRadius*2,this.renderRadius*2);this.fullCircle(d.outerBorder);for(var e=0;e<60;e++)this.radialLineAtAngle(e/60,d[e%5?"smallIndicator":"largeIndicator"]);this.radialLineAtAngle((a+b/60)/12,d.hourHand);this.radialLineAtAngle((b+c/60)/60,d.minuteHand);this.showSecondHand&&(this.radialLineAtAngle(c/60,d.secondHand),document.all||this.radialLineAtAngle(c/60,d.secondDecoration))},nextTick:function(){setTimeout("CoolClock.config.clockTracker['"+
this.canvasId+"'].tick()",this.tickDelay)},stillHere:function(){return document.getElementById(this.canvasId)!=null},refreshDisplay:function(){var a=new Date;this.gmtOffset!=null?(a=new Date(a.valueOf()+this.gmtOffset*36E5),this.render(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())):this.render(a.getHours(),a.getMinutes(),a.getSeconds())},tick:function(){this.stillHere()&&(this.refreshDisplay(),this.nextTick())}};CoolClock.addLoadEvent(CoolClock.findAndCreateClocks);CoolClock.config.skins={swissRail:{outerBorder:{lineWidth:1,radius:95,color:"black",alpha:1},smallIndicator:{lineWidth:2,startAt:89,endAt:93,color:"black",alpha:1},largeIndicator:{lineWidth:4,startAt:80,endAt:93,color:"black",alpha:1},hourHand:{lineWidth:8,startAt:-15,endAt:50,color:"black",alpha:1},minuteHand:{lineWidth:7,startAt:-15,endAt:75,color:"black",alpha:1},secondHand:{lineWidth:1,startAt:-20,endAt:85,color:"red",alpha:1},secondDecoration:{lineWidth:1,startAt:70,radius:4,fillColor:"red",
color:"red",alpha:1}},chunkySwiss:{outerBorder:{lineWidth:4,radius:97,color:"black",alpha:1},smallIndicator:{lineWidth:4,startAt:89,endAt:93,color:"black",alpha:1},largeIndicator:{lineWidth:8,startAt:80,endAt:93,color:"black",alpha:1},hourHand:{lineWidth:12,startAt:-15,endAt:60,color:"black",alpha:1},minuteHand:{lineWidth:10,startAt:-15,endAt:85,color:"black",alpha:1},secondHand:{lineWidth:4,startAt:-20,endAt:85,color:"red",alpha:1},secondDecoration:{lineWidth:2,startAt:70,radius:8,fillColor:"red",
color:"red",alpha:1}},chunkySwissOnBlack:{outerBorder:{lineWidth:4,radius:97,color:"white",alpha:1},smallIndicator:{lineWidth:4,startAt:89,endAt:93,color:"white",alpha:1},largeIndicator:{lineWidth:8,startAt:80,endAt:93,color:"white",alpha:1},hourHand:{lineWidth:12,startAt:-15,endAt:60,color:"white",alpha:1},minuteHand:{lineWidth:10,startAt:-15,endAt:85,color:"white",alpha:1},secondHand:{lineWidth:4,startAt:-20,endAt:85,color:"red",alpha:1},secondDecoration:{lineWidth:2,startAt:70,radius:8,fillColor:"red",
color:"red",alpha:1}},fancy:{outerBorder:{lineWidth:5,radius:95,color:"green",alpha:0.7},smallIndicator:{lineWidth:1,startAt:80,endAt:93,color:"black",alpha:0.4},largeIndicator:{lineWidth:1,startAt:30,endAt:93,color:"black",alpha:0.5},hourHand:{lineWidth:8,startAt:-15,endAt:50,color:"blue",alpha:0.7},minuteHand:{lineWidth:7,startAt:-15,endAt:92,color:"red",alpha:0.7},secondHand:{lineWidth:10,startAt:80,endAt:85,color:"blue",alpha:0.3},secondDecoration:{lineWidth:1,startAt:30,radius:50,fillColor:"blue",
color:"red",alpha:0.15}},machine:{outerBorder:{lineWidth:60,radius:55,color:"#dd6655",alpha:1},smallIndicator:{lineWidth:4,startAt:80,endAt:95,color:"white",alpha:1},largeIndicator:{lineWidth:14,startAt:77,endAt:92,color:"#dd6655",alpha:1},hourHand:{lineWidth:18,startAt:-15,endAt:40,color:"white",alpha:1},minuteHand:{lineWidth:14,startAt:24,endAt:100,color:"#771100",alpha:0.5},secondHand:{lineWidth:3,startAt:22,endAt:83,color:"green",alpha:0},secondDecoration:{lineWidth:1,startAt:52,radius:26,fillColor:"#ffcccc",
color:"red",alpha:0.5}},classic:{outerBorder:{lineWidth:185,radius:1,color:"#FFFFFF",alpha:1},smallIndicator:{lineWidth:2,startAt:89,endAt:94,color:"#3366CC",alpha:1},largeIndicator:{lineWidth:4,startAt:83,endAt:94,color:"#3366CC",alpha:1},hourHand:{lineWidth:5,startAt:0,endAt:60,color:"black",alpha:1},minuteHand:{lineWidth:4,startAt:0,endAt:80,color:"black",alpha:1},secondHand:{lineWidth:1,startAt:-20,endAt:85,color:"red",alpha:0.85},secondDecoration:{lineWidth:3,startAt:0,radius:2,fillColor:"black",
color:"black",alpha:1}},modern:{outerBorder:{lineWidth:185,radius:1,color:"#E5ECF9",alpha:1},smallIndicator:{lineWidth:5,startAt:88,endAt:94,color:"#3366CC",alpha:1},largeIndicator:{lineWidth:5,startAt:88,endAt:94,color:"#3366CC",alpha:1},hourHand:{lineWidth:8,startAt:0,endAt:60,color:"black",alpha:1},minuteHand:{lineWidth:8,startAt:0,endAt:80,color:"black",alpha:1},secondHand:{lineWidth:5,startAt:80,endAt:85,color:"red",alpha:0.85},secondDecoration:{lineWidth:3,startAt:0,radius:4,fillColor:"black",
color:"black",alpha:1}},simple:{outerBorder:{lineWidth:185,radius:1,color:"#E5ECF9",alpha:1},smallIndicator:{lineWidth:10,startAt:90,endAt:94,color:"#3366CC",alpha:1},largeIndicator:{lineWidth:10,startAt:90,endAt:94,color:"#3366CC",alpha:1},hourHand:{lineWidth:8,startAt:0,endAt:60,color:"black",alpha:1},minuteHand:{lineWidth:8,startAt:0,endAt:80,color:"black",alpha:1},secondHand:{lineWidth:5,startAt:80,endAt:85,color:"red",alpha:0.85},secondDecoration:{lineWidth:3,startAt:0,radius:4,fillColor:"black",
color:"black",alpha:1}},securephp:{outerBorder:{lineWidth:100,radius:0.45,color:"#669900",alpha:0.3},smallIndicator:{lineWidth:2,startAt:80,endAt:90,color:"green",alpha:1},largeIndicator:{lineWidth:8.5,startAt:20,endAt:40,color:"green",alpha:0.4},hourHand:{lineWidth:3,startAt:0,endAt:60,color:"black",alpha:1},minuteHand:{lineWidth:2,startAt:0,endAt:75,color:"black",alpha:1},secondHand:{lineWidth:1,startAt:-10,endAt:80,color:"blue",alpha:0.8},secondDecoration:{lineWidth:1,startAt:70,radius:4,fillColor:"blue",
color:"red",alpha:1}},Tes2:{outerBorder:{lineWidth:4,radius:0,color:"black",alpha:0.5},smallIndicator:{lineWidth:1,startAt:0,endAt:0,color:"#66CCFF",alpha:1},largeIndicator:{lineWidth:8.5,startAt:0,endAt:0,color:"#6699FF",alpha:1},hourHand:{lineWidth:2.5,startAt:-10,endAt:25,color:"#003399",alpha:0.7},minuteHand:{lineWidth:1.5,startAt:-10,endAt:30,color:"#ACA495",alpha:0.7},secondHand:{lineWidth:0.5,startAt:-15,endAt:40,color:"white",alpha:1},secondDecoration:{lineWidth:1,startAt:20,radius:4,fillColor:"transparent",
color:"red",alpha:1}},Lev:{outerBorder:{lineWidth:10,radius:95,color:"#CCFF33",alpha:0.65},smallIndicator:{lineWidth:5,startAt:84,endAt:90,color:"#996600",alpha:1},largeIndicator:{lineWidth:40,startAt:25,endAt:95,color:"#336600",alpha:0.55},hourHand:{lineWidth:4,startAt:0,endAt:65,color:"black",alpha:0.9},minuteHand:{lineWidth:3,startAt:0,endAt:80,color:"black",alpha:0.85},secondHand:{lineWidth:1,startAt:0,endAt:85,color:"black",alpha:1},secondDecoration:{lineWidth:2,startAt:5,radius:10,fillColor:"black",
color:"black",alpha:1}},Sand:{outerBorder:{lineWidth:1,radius:70,color:"black",alpha:0.5},smallIndicator:{lineWidth:3,startAt:50,endAt:70,color:"#0066FF",alpha:0.5},largeIndicator:{lineWidth:200,startAt:80,endAt:95,color:"#996600",alpha:0.75},hourHand:{lineWidth:4,startAt:0,endAt:65,color:"black",alpha:0.9},minuteHand:{lineWidth:3,startAt:0,endAt:80,color:"black",alpha:0.85},secondHand:{lineWidth:1,startAt:0,endAt:85,color:"black",alpha:1},secondDecoration:{lineWidth:2,startAt:5,radius:10,fillColor:"black",
color:"black",alpha:1}},Sun:{outerBorder:{lineWidth:100,radius:140,color:"#99FFFF",alpha:0.2},smallIndicator:{lineWidth:300,startAt:50,endAt:70,color:"black",alpha:0.1},largeIndicator:{lineWidth:5,startAt:80,endAt:95,color:"black",alpha:0.65},hourHand:{lineWidth:4,startAt:0,endAt:65,color:"black",alpha:0.9},minuteHand:{lineWidth:3,startAt:0,endAt:80,color:"black",alpha:0.85},secondHand:{lineWidth:1,startAt:0,endAt:90,color:"black",alpha:1},secondDecoration:{lineWidth:2,startAt:5,radius:10,fillColor:"black",
color:"black",alpha:1}},Tor:{outerBorder:{lineWidth:10,radius:88,color:"#996600",alpha:0.9},smallIndicator:{lineWidth:6,startAt:-10,endAt:73,color:"green",alpha:0.3},largeIndicator:{lineWidth:6,startAt:73,endAt:100,color:"black",alpha:0.65},hourHand:{lineWidth:4,startAt:0,endAt:65,color:"black",alpha:1},minuteHand:{lineWidth:3,startAt:0,endAt:80,color:"black",alpha:1},secondHand:{lineWidth:1,startAt:-73,endAt:73,color:"black",alpha:0.8},secondDecoration:{lineWidth:2,startAt:5,radius:10,fillColor:"black",
color:"black",alpha:1}},Cold:{outerBorder:{lineWidth:15,radius:90,color:"black",alpha:0.3},smallIndicator:{lineWidth:15,startAt:-10,endAt:95,color:"blue",alpha:0.1},largeIndicator:{lineWidth:3,startAt:80,endAt:95,color:"blue",alpha:0.65},hourHand:{lineWidth:4,startAt:0,endAt:65,color:"black",alpha:1},minuteHand:{lineWidth:3,startAt:0,endAt:80,color:"black",alpha:1},secondHand:{lineWidth:1,startAt:0,endAt:85,color:"black",alpha:0.8},secondDecoration:{lineWidth:5,startAt:30,radius:10,fillColor:"black",
color:"black",alpha:1}},Babosa:{outerBorder:{lineWidth:100,radius:25,color:"blue",alpha:0.25},smallIndicator:{lineWidth:3,startAt:90,endAt:95,color:"#3366CC",alpha:1},largeIndicator:{lineWidth:4,startAt:75,endAt:95,color:"#3366CC",alpha:1},hourHand:{lineWidth:4,startAt:0,endAt:60,color:"black",alpha:1},minuteHand:{lineWidth:3,startAt:0,endAt:85,color:"black",alpha:1},secondHand:{lineWidth:12,startAt:75,endAt:90,color:"red",alpha:0.8},secondDecoration:{lineWidth:3,startAt:0,radius:4,fillColor:"black",
color:"black",alpha:1}},Tumb:{outerBorder:{lineWidth:105,radius:5,color:"green",alpha:0.4},smallIndicator:{lineWidth:1,startAt:93,endAt:98,color:"green",alpha:1},largeIndicator:{lineWidth:50,startAt:0,endAt:89,color:"red",alpha:0.14},hourHand:{lineWidth:4,startAt:0,endAt:65,color:"black",alpha:1},minuteHand:{lineWidth:3,startAt:0,endAt:80,color:"black",alpha:1},secondHand:{lineWidth:1,startAt:0,endAt:85,color:"black",alpha:0.8},secondDecoration:{lineWidth:5,startAt:50,radius:90,fillColor:"black",
color:"black",alpha:0.05}},Stone:{outerBorder:{lineWidth:15,radius:80,color:"#339933",alpha:0.5},smallIndicator:{lineWidth:2,startAt:70,endAt:90,color:"#FF3300",alpha:0.7},largeIndicator:{lineWidth:15,startAt:0,endAt:29,color:"#FF6600",alpha:0.3},hourHand:{lineWidth:4,startAt:0,endAt:65,color:"black",alpha:1},minuteHand:{lineWidth:3,startAt:0,endAt:75,color:"black",alpha:1},secondHand:{lineWidth:1,startAt:0,endAt:85,color:"black",alpha:0.8},secondDecoration:{lineWidth:5,startAt:50,radius:90,fillColor:"black",
color:"black",alpha:0.05}},Disc:{outerBorder:{lineWidth:105,radius:1,color:"#666600",alpha:0.2},smallIndicator:{lineWidth:1,startAt:58,endAt:95,color:"#669900",alpha:0.8},largeIndicator:{lineWidth:6,startAt:25,endAt:35,color:"#666600",alpha:1},hourHand:{lineWidth:4,startAt:0,endAt:65,color:"black",alpha:1},minuteHand:{lineWidth:3,startAt:0,endAt:75,color:"black",alpha:1},secondHand:{lineWidth:1,startAt:-75,endAt:75,color:"#99CC00",alpha:0.8},secondDecoration:{lineWidth:5,startAt:50,radius:90,fillColor:"#00FF00",
color:"green",alpha:0.05}}};window.CanvasRenderingContext2D||function(){function a(a){var b=a.srcElement;switch(a.propertyName){case "width":b.style.width=b.attributes.width.nodeValue+"px";b.getContext().clearRect();break;case "height":b.style.height=b.attributes.height.nodeValue+"px",b.getContext().clearRect()}}function b(a){a=a.srcElement;if(a.firstChild)a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px"}function c(){return[[1,0,0],[0,1,0],[0,0,1]]}function d(a,b){for(var d=c(),e=0;e<
3;e++)for(var f=0;f<3;f++){for(var g=0,h=0;h<3;h++)g+=a[e][h]*b[h][f];d[e][f]=g}return d}function e(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=a.shadowColor;b.shadowOffsetX=a.shadowOffsetX;b.shadowOffsetY=a.shadowOffsetY;b.strokeStyle=a.strokeStyle;b.arcScaleX_=a.arcScaleX_;b.arcScaleY_=a.arcScaleY_}function f(a){var b,c=1,a=String(a);if(a.substring(0,3)=="rgb"){b=a.indexOf("(",3);
var d=a.indexOf(")",b+1),d=a.substring(b+1,d).split(",");b="#";for(var e=0;e<3;e++)b+=s[Number(d[e])];d.length==4&&a.substr(3,1)=="a"&&(c=d[3])}else b=a;return[b,c]}function g(a){switch(a){case "butt":return"flat";case "round":return"round";default:return"square"}}function h(a){this.m_=c();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=o*1;this.globalAlpha=1;this.canvas=a;var b=
a.ownerDocument.createElement("div");b.style.width=a.clientWidth+"px";b.style.height=a.clientHeight+"px";b.style.overflow="hidden";b.style.position="absolute";a.appendChild(b);this.element_=b;this.arcScaleY_=this.arcScaleX_=1}function i(a){this.type_=a;this.radius2_=this.radius1_=0;this.colors_=[];this.focus_={x:0,y:0}}function k(){}var j=Math,l=j.round,n=j.sin,q=j.cos,o=10,r=o/2,j={init:function(a){var b=a||document;if(/MSIE/.test(navigator.userAgent)&&!window.opera){var c=this;b.attachEvent("onreadystatechange",
function(){c.init_(b)})}},init_:function(a){if(a.readyState=="complete"){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml");a.createStyleSheet().cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}";for(var a=a.getElementsByTagName("canvas"),b=0;b<a.length;b++)a[b].getContext||this.initElement(a[b])}},fixElement_:function(a){var b=a.outerHTML,c=a.ownerDocument.createElement(b);if(b.slice(-2)!=
"/>"){for(var b="/"+a.tagName,d;(d=a.nextSibling)&&d.tagName!=b;)d.removeNode();d&&d.removeNode()}a.parentNode.replaceChild(c,a);return c},initElement:function(c){c=this.fixElement_(c);c.getContext=function(){return this.context_?this.context_:this.context_=new h(this)};c.attachEvent("onpropertychange",a);c.attachEvent("onresize",b);var d=c.attributes;d.width&&d.width.specified?c.style.width=d.width.nodeValue+"px":c.width=c.clientWidth;d.height&&d.height.specified?c.style.height=d.height.nodeValue+
"px":c.height=c.clientHeight;return c}};j.init();for(var s=[],m=0;m<16;m++)for(var t=0;t<16;t++)s[m*16+t]=m.toString(16)+t.toString(16);m=h.prototype;m.clearRect=function(){this.element_.innerHTML="";this.currentPath_=[]};m.beginPath=function(){this.currentPath_=[]};m.moveTo=function(a,b){this.currentPath_.push({type:"moveTo",x:a,y:b});this.currentX_=a;this.currentY_=b};m.lineTo=function(a,b){this.currentPath_.push({type:"lineTo",x:a,y:b});this.currentX_=a;this.currentY_=b};m.bezierCurveTo=function(a,
b,c,d,e,f){this.currentPath_.push({type:"bezierCurveTo",cp1x:a,cp1y:b,cp2x:c,cp2y:d,x:e,y:f});this.currentX_=e;this.currentY_=f};m.quadraticCurveTo=function(a,b,c,d){a=this.currentX_+2/3*(a-this.currentX_);b=this.currentY_+2/3*(b-this.currentY_);this.bezierCurveTo(a,b,a+(c-this.currentX_)/3,b+(d-this.currentY_)/3,c,d)};m.arc=function(a,b,c,d,e,f){c*=o;var g=f?"at":"wa",h=a+q(d)*c-r,d=b+n(d)*c-r,i=a+q(e)*c-r,e=b+n(e)*c-r;h==i&&!f&&(h+=0.125);this.currentPath_.push({type:g,x:a,y:b,radius:c,xStart:h,
yStart:d,xEnd:i,yEnd:e})};m.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()};m.strokeRect=function(a,b,c,d){this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.stroke()};m.fillRect=function(a,b,c,d){this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.fill()};m.createLinearGradient=function(){return new i("gradient")};
m.createRadialGradient=function(a,b,c,d,e,f){d=new i("gradientradial");d.radius1_=c;d.radius2_=f;d.focus_.x=a;d.focus_.y=b;return d};m.drawImage=function(a,b){var c,d,e,f,g,h,i,j;e=a.runtimeStyle.width;f=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height="auto";var k=a.width,m=a.height;a.runtimeStyle.width=e;a.runtimeStyle.height=f;if(arguments.length==3)c=arguments[1],d=arguments[2],g=h=0,i=e=k,j=f=m;else if(arguments.length==5)c=arguments[1],d=arguments[2],e=arguments[3],f=
arguments[4],g=h=0,i=k,j=m;else if(arguments.length==9)g=arguments[1],h=arguments[2],i=arguments[3],j=arguments[4],c=arguments[5],d=arguments[6],e=arguments[7],f=arguments[8];else throw"Invalid number of arguments";var n=this.getCoords_(c,d),q=[];q.push(" <g_vml_:group",' coordsize="',o*10,",",o*10,'"',' coordorigin="0,0"',' style="width:',10,";height:",10,";position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]){var r=[];r.push("M11='",this.m_[0][0],"',","M12='",this.m_[1][0],"',","M21='",this.m_[0][1],
"',","M22='",this.m_[1][1],"',","Dx='",l(n.x/o),"',","Dy='",l(n.y/o),"'");var s=this.getCoords_(c+e,d),t=this.getCoords_(c,d+f);c=this.getCoords_(c+e,d+f);n.x=Math.max(n.x,s.x,t.x,c.x);n.y=Math.max(n.y,s.y,t.y,c.y);q.push("padding:0 ",l(n.x/o),"px ",l(n.y/o),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",r.join(""),", sizingmethod='clip');")}else q.push("top:",l(n.y/o),"px;left:",l(n.x/o),"px;");q.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',o*e,";"," height:",o*f,';"',' cropleft="',
g/k,'"',' croptop="',h/m,'"',' cropright="',(k-g-i)/k,'"',' cropbottom="',(m-h-j)/m,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",q.join(""))};m.stroke=function(a){var b=[],c=f(a?this.fillStyle:this.strokeStyle),d=c[0],c=c[1]*this.globalAlpha;b.push("<g_vml_:shape",' fillcolor="',d,'"',' filled="',Boolean(a),'"',' style="position:absolute;width:',10,";height:",10,';"',' coordorigin="0 0" coordsize="',o*10," ",o*10,'"',' stroked="',!a,'"',' strokeweight="',this.lineWidth,
'"',' strokecolor="',d,'"',' path="');for(var e={x:null,y:null},h={x:null,y:null},i=0;i<this.currentPath_.length;i++){var j=this.currentPath_[i];if(j.type=="moveTo"){b.push(" m ");var k=this.getCoords_(j.x,j.y);b.push(l(k.x),",",l(k.y))}else if(j.type=="lineTo")b.push(" l "),k=this.getCoords_(j.x,j.y),b.push(l(k.x),",",l(k.y));else if(j.type=="close")b.push(" x ");else if(j.type=="bezierCurveTo"){b.push(" c ");var k=this.getCoords_(j.x,j.y),m=this.getCoords_(j.cp1x,j.cp1y),j=this.getCoords_(j.cp2x,
j.cp2y);b.push(l(m.x),",",l(m.y),",",l(j.x),",",l(j.y),",",l(k.x),",",l(k.y))}else if(j.type=="at"||j.type=="wa"){b.push(" ",j.type," ");var k=this.getCoords_(j.x,j.y),m=this.getCoords_(j.xStart,j.yStart),n=this.getCoords_(j.xEnd,j.yEnd);b.push(l(k.x-this.arcScaleX_*j.radius),",",l(k.y-this.arcScaleY_*j.radius)," ",l(k.x+this.arcScaleX_*j.radius),",",l(k.y+this.arcScaleY_*j.radius)," ",l(m.x),",",l(m.y)," ",l(n.x),",",l(n.y))}if(k){if(e.x==null||k.x<e.x)e.x=k.x;if(h.x==null||k.x>h.x)h.x=k.x;if(e.y==
null||k.y<e.y)e.y=k.y;if(h.y==null||k.y>h.y)h.y=k.y}}b.push(' ">');if(typeof this.fillStyle=="object"){a={x:"50%",y:"50%"};i=h.x-e.x;e=h.y-e.y;d=i>e?i:e;a.x=l(this.fillStyle.focus_.x/i*100+50)+"%";a.y=l(this.fillStyle.focus_.y/e*100+50)+"%";e=[];this.fillStyle.type_=="gradientradial"?(h=this.fillStyle.radius1_/d*100,d=this.fillStyle.radius2_/d*100-h):(h=0,d=100);k={offset:null,color:null};j={offset:null,color:null};this.fillStyle.colors_.sort(function(a,b){return a.offset-b.offset});for(i=0;i<this.fillStyle.colors_.length;i++){m=
this.fillStyle.colors_[i];e.push(m.offset*d+h,"% ",m.color,",");if(m.offset>k.offset||k.offset==null)k.offset=m.offset,k.color=m.color;if(m.offset<j.offset||j.offset==null)j.offset=m.offset,j.color=m.color}e.pop();b.push("<g_vml_:fill",' color="',j.color,'"',' color2="',k.color,'"',' type="',this.fillStyle.type_,'"',' focusposition="',a.x,", ",a.y,'"',' colors="',e.join(""),'"',' opacity="',c,'" />')}else a?b.push('<g_vml_:fill color="',d,'" opacity="',c,'" />'):b.push("<g_vml_:stroke",' opacity="',
c,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',g(this.lineCap),'"',' weight="',this.lineWidth,'px"',' color="',d,'" />');b.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",b.join(""));this.currentPath_=[]};m.fill=function(){this.stroke(!0)};m.closePath=function(){this.currentPath_.push({type:"close"})};m.getCoords_=function(a,b){return{x:o*(a*this.m_[0][0]+b*this.m_[1][0]+this.m_[2][0])-r,y:o*(a*this.m_[0][1]+b*this.m_[1][1]+this.m_[2][1])-
r}};m.save=function(){var a={};e(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=d(c(),this.m_)};m.restore=function(){e(this.aStack_.pop(),this);this.m_=this.mStack_.pop()};m.translate=function(a,b){this.m_=d([[1,0,0],[0,1,0],[a,b,1]],this.m_)};m.rotate=function(a){var b=q(a),a=n(a);this.m_=d([[b,a,0],[-a,b,0],[0,0,1]],this.m_)};m.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;this.m_=d([[a,0,0],[0,b,0],[0,0,1]],this.m_)};m.clip=function(){};m.arcTo=function(){};m.createPattern=
function(){return new k};i.prototype.addColorStop=function(a,b){b=f(b);this.colors_.push({offset:1-a,color:b})};G_vmlCanvasManager=j;CanvasRenderingContext2D=h;CanvasGradient=i;CanvasPattern=k}();function tabIconOnOverView(a){try{document.getElementById(a).className="tabIconOnOverViewClass"}catch(b){}}function tabIconNormalView(a){try{document.getElementById(a).className="tabIconNormalViewClass"}catch(b){}};var Calendar__Name="__zc__commoncalendar",CALENDAR_BOX_WIDTH=170,CALENDAR_BOX_HEIGHT=180,month,year;
function CalendarControl(){var a=Calendar__Name;this.calendarHtml=Calendar__calendarHtml_custom;this.attach=_Calendar__attach_custom;this.isAttached=_Calendar__isAttached_custom;this.hide=_Calendar__hide_custom;this.show=_Calendar__show_custom;this.setMonth=_Calendar__setMonth_custom;this.moveTo=_Calendar__moveTo_custom;this.name=Calendar__Name;document[a]?alert("calendar.js: Attempt to create duplicate calendar  with name '"+a+"'"):document[a]=this;if(document.all)document.body.insertAdjacentHTML("beforeEnd",
'<iframe name="'+Calendar__Name+'" id="'+Calendar__Name+'" style="'+calendarIframeStyle+'"  marginwidth=0 marginheight=0  onclick="_Calendar__documentClick_custom(\''+a+'\')" src="javascript:Calendar__setBox_custom (document)" scrolling=no framespacing=0 frameborder=0 width="'+CALENDAR_BOX_WIDTH+'" height="'+CALENDAR_BOX_HEIGHT+'"></iframe>'),document.body.onclick=_Calendar__documentClick_custom,this.hide();return this}
var _Calendar_wkDays=["Su","Mo","Tu","We","Th","Fr","Sa"],_Calendar_daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],_Calendar_monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_calendarIframeBox_custom=null;function Calendar__setBox_custom(a){_calendarIframeBox_custom=a;a.onclick=_Calendar__documentClick_custom;return""}function _Calendar__hide_custom(){document.all(Calendar__Name).style.display="none"}
function _Calendar__show_custom(){document.all(Calendar__Name).style.display="block"}function _Calendar__documentClick_custom(){_calendarIframeBox_custom&&calendar.hide()}function Debug(a){var b=document.all("Debug");b&&b.insertAdjacentText("beforeEnd",a)}function _Calendar__isAttached_custom(){return this._dateBox!=null}function _Calendar__setMonth_custom(a,b){_calendarIframeBox_custom.body.innerHTML=this.calendarHtml_custom(a,b)}
function _Calendar__attach_custom(a){typeof a=="string"&&(a=document.all(a));var b=a.value;parseDate(b)||(b="");var c=null;switch(date_format){case "dd/MM/yyyy":b&&b.length>0?(c=a.value.split("/"),b=convertToInt(c[1])-1,convertToInt(c[0]),c=convertToInt(c[2])):(c=new Date,b=c.getMonth(),c=c.getFullYear());break;default:b&&b.length>0?(b=Date.parse(b),c=b==0||isNaN(b)?new Date:new Date(b),b=c.getMonth(),c=c.getFullYear(),c<100&&(c+=1900)):(c=new Date,b=c.getMonth(),c=c.getFullYear())}var d=a.getBoundingClientRect(),
e=document.all(Calendar__Name).style;e.top=d.bottom+1+document.body.scrollTop;e.left=d.left+document.body.scrollLeft;_calendarIframeBox_custom.body.innerHTML=this.calendarHtml_custom(b,c);this.show();this._dateBox=a;event.cancelBubble=!0}function _Calendar__moveTo_custom(a,b){var c=document.all(Calendar__Name).style;c.top=b;c.left=a}function _Calendar_updateDisplay_custom(a,b,c){showMonthCalendars_custom(b,c,"${servlet_prefix}/custom/calendar/daysEvents.html?")}
function _isLeapYear_custom(a){return a%4==0&&(a%100!=0||a%400==0)}function _daysInMonth(a,b){return _isLeapYear_custom(b)&&a==1?29:_Calendar_daysInMonth[a]}function _Calendar_noop(){try{afterAttachInParent()}catch(a){}}function _Calendar__prefix0_custom(a){a=""+a;return a.length>1?a:"0"+a}
function _Calendar_updateBox_custom(a,b,c,d){if(calendar&&calendar._dateBox)switch(date_format){case "dd/MM/yyyy":calendar._dateBox.value=_Calendar__prefix0_custom(c)+"/"+_Calendar__prefix0_custom(b)+"/"+d;calendar.hide();_Calendar_noop();break;default:calendar._dateBox.value=_Calendar__prefix0_custom(b)+"/"+_Calendar__prefix0_custom(c)+"/"+d,calendar.hide(),_Calendar_noop()}}
function CalendarHtml_custom(a,b,c){var d=new Date,e="<table height=\"100%\" cellpadding=2 cellspacing=1 border=0 align=center width=\"92%\" style='background-color: rgb(255, 255, 255); font-size: 7pt; font-family: Tahoma;';=''>\n";a>=12?(a-=12,b++):a<0&&(a+=12,b--);d=new Date;e='<html>\n<body >\n<table cellpadding=1 cellspacing=2 border=0 align=center width="100%"; height="100%" style="'+calendarOuterTableStyle+'">\n';e+='<tr>\n  <td colspan=7 valign=top height=10px>\n    <table border=0 style="'+
calendarInnerTableStyle+'" >\n      <tr >\n       <td width=10% class=calendarArrowClass ><a href="javascript:_Calendar_updateDisplay_custom(\''+this.name+"', "+a+", "+(b-1)+')" style="text-decoration: none"  onclick="_Calendar_updateDisplay_custom(\''+this.name+"', "+a+", "+(b-1)+')"><img src=/atCRM/images/arwPyear.png border=0 title="Previous year"></a></td>       <td width=10% class=calendarArrowClass >';var f=a-1,g=b;f<0&&(f=11,g--);e+='<a href="javascript:_Calendar_noop()" style="text-decoration: none"   onclick="_Calendar_updateDisplay_custom(\''+
this.name+"', "+f+", "+g+')"><img src=/atCRM/images/arwPmonth.png border=0 title="Previous month"></a></td>       <td align=center width=90% class=calendarArrowClass style="color:#000000; font-size:10px">'+_makeMonthSelector_custom(a,b)+"</td>\n       <td width=10% class=calendarArrowClass >";f=a+1;g=b;f>11&&(f=0,g++);e+='<a href="javascript:_Calendar_noop()" style="text-decoration: none"   onclick="_Calendar_updateDisplay_custom(\''+this.name+"', "+f+", "+g+')"> <img src=/atCRM/images/arwNmonth.png border=0 title="Next month"></a></td>\n       <td width=10% class=calendarArrowClass ><a href="javascript:_Calendar_noop()" style="text-decoration: none"   onclick="_Calendar_updateDisplay_custom(\''+
this.name+"', "+a+", "+(+b+1)+')"><img src=/atCRM/images/arwNyear.png border=0 title="Next year"></a></td>\n      </tr>\n    </table>\n  </td>\n</tr>\n';e+="<tr>\n";for(f=0;f<7;f++)e+="<td align=center >"+_Calendar_wkDays[f]+"</td>\n";e+="</tr>\n";var g=(new Date(b,a,1)).getDay(),h=_daysInMonth(a,b)+g;e+="<tr>\n";d.getDate();d.getMonth();d.getFullYear();for(f=0;f<h;f++){var i=f-g+1;e+=i==d.getDate()&&a==d.getMonth()&&b==d.getFullYear()?"  <td align=center  class='calenderSelectedDateColumsStyle'>":
i>0?'  <td align=center class="calendarCellClass">':"  <td>";i>0&&(e+=(date_format="dd/MM/yyyy",'\n    <a href="'+c+"dateParam="+i+"/"+(a+1)+"/"+b+"\" style='color:black'>"),e+='\n   <a href="'+c+"dateParam="+i+"/"+(a+1)+"/"+b+"\"  style='color:black; text-decoration:none;font-size: 7pt; font-weight: bold; font-family: arial; width: 15px;'>",e+=i,e+="</a>",e+="\n");e+="  </td >\n";(f+1)%7==0&&(e+="</tr>\n",f<h-1&&(e+="<tr >\n"))}f%7==0&&(e+="</tr>\n");e+="</table>\n";return e}
function _makeMonthSelector_custom(a,b){return"<b>"+_Calendar_monthNames[a]+" "+b+"</b>"}function showMonthCalendars_custom(a,b,c){for(var d=0;d<4;d++){var e=document.getElementById("calendarBox"+(d+1));if(e){var f=a-1+d,g=b;f<0?(f+=12,g--):f>11&&(f-=12,g++);e.innerHTML=CalendarHtml_custom(f,g,c)}}};Calendar=function(){function a(b){b=b||{};this.args=b=Z(b,{animation:!U,cont:null,bottomBar:!0,date:!0,fdow:x("fdow"),min:null,max:null,reverseWheel:!1,selection:[],selectionType:a.SEL_SINGLE,weekNumbers:!1,align:"Bl/ / /T/r",inputField:null,trigger:null,dateFormat:"%Y-%m-%d",opacity:w?1:3,titleFormat:"%b %Y",showTime:!1,timePos:"right",time:!0,minuteStep:5,disabled:B,checkRange:!1,dateInfo:B,onChange:B,onSelect:B,onTimeChange:B,onFocus:B,onBlur:B});this.handlers={};var c=this,d=new Date;b.min=N(b.min);
b.max=N(b.max);if(b.date===!0)b.date=d;if(b.time===!0)b.time=d.getHours()*100+Math.floor(d.getMinutes()/b.minuteStep)*b.minuteStep;this.date=N(b.date);this.time=b.time;this.fdow=b.fdow;$("onChange onSelect onTimeChange onFocus onBlur".split(/\s+/),function(a){var d=b[a];d instanceof Array||(d=[d]);c.handlers[a]=d});this.selection=new a.Selection(b.selection,b.selectionType,G,this);d=h.call(this);b.cont&&O(b.cont).appendChild(d);b.trigger&&this.manageFields(b.trigger,b.inputField,b.dateFormat)}function b(a){var b=
["<table",C,"><tr>"],c=0;for(a.args.weekNumbers&&b.push("<td><div class='DynarchCalendar-weekNumber'>",x("wk"),"</div></td>");c<7;){var d=(c++ +a.fdow)%7;b.push("<td><div",x("weekend").indexOf(d)>=0?" class='DynarchCalendar-weekend'>":">",x("sdn")[d],"</div></td>")}b.push("</tr></table>");return b.join("")}function c(a,b,c){var b=b||a.date,c=c||a.fdow,b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),12,0,0,0),d=b.getMonth(),e=[],f=0,g=a.args.weekNumbers;b.setDate(1);c=(b.getDay()-c)%7;c<0&&(c+=
7);b.setDate(0-c);b.setDate(b.getDate()+1);var h=new Date,c=h.getDate(),i=h.getMonth(),h=h.getFullYear();e[f++]="<table class='DynarchCalendar-bodyTable'"+C+">";for(var j=0;j<6;++j){e[f++]="<tr class='DynarchCalendar-week";j==0&&(e[f++]=" DynarchCalendar-first-row");j==5&&(e[f++]=" DynarchCalendar-last-row");e[f++]="'>";g&&(e[f++]="<td class='DynarchCalendar-first-col'><div class='DynarchCalendar-weekNumber'>"+Y(b)+"</div></td>");for(var k=0;k<7;++k){var l=b.getDate(),m=b.getMonth(),n=b.getFullYear(),
o=1E4*n+100*(m+1)+l,q=a.selection.isSelected(o),p=a.isDisabled(b);e[f++]="<td class='";k==0&&!g&&(e[f++]=" DynarchCalendar-first-col");if(k==0&&j==0)a._firstDateVisible=o;if(k==6&&(e[f++]=" DynarchCalendar-last-col",j==5))a._lastDateVisible=o;q&&(e[f++]=" DynarchCalendar-td-selected");e[f++]="'><div dyc-type='date' unselectable='on' dyc-date='"+o+"' ";p&&(e[f++]="disabled='1' ");e[f++]="class='DynarchCalendar-day";x("weekend").indexOf(b.getDay())>=0&&(e[f++]=" DynarchCalendar-weekend");m!=d&&(e[f++]=
" DynarchCalendar-day-othermonth");l==c&&m==i&&n==h&&(e[f++]=" DynarchCalendar-day-today");p&&(e[f++]=" DynarchCalendar-day-disabled");q&&(e[f++]=" DynarchCalendar-day-selected");(p=a.args.dateInfo(b))&&p.klass&&(e[f++]=" "+p.klass);e[f++]="'>"+l+"</div></td>";b=new Date(n,m,l+1,12,0,0,0)}e[f++]="</tr>"}e[f++]="</table>";return e.join("")}function d(a){var c=["<table class='DynarchCalendar-topCont'",C,"><tr><td><div class='DynarchCalendar'>",!w?"<button class='DynarchCalendar-focusLink'></button>":
"<a class='DynarchCalendar-focusLink' href='#'></a>","<div class='DynarchCalendar-topBar'><div dyc-type='nav' dyc-btn='-Y' dyc-cls='hover-navBtn,pressed-navBtn' class='DynarchCalendar-navBtn DynarchCalendar-prevYear'><div></div></div><div dyc-type='nav' dyc-btn='+Y' dyc-cls='hover-navBtn,pressed-navBtn' class='DynarchCalendar-navBtn DynarchCalendar-nextYear'><div></div></div><div dyc-type='nav' dyc-btn='-M' dyc-cls='hover-navBtn,pressed-navBtn' class='DynarchCalendar-navBtn DynarchCalendar-prevMonth'><div></div></div><div dyc-type='nav' dyc-btn='+M' dyc-cls='hover-navBtn,pressed-navBtn' class='DynarchCalendar-navBtn DynarchCalendar-nextMonth'><div></div></div><table class='DynarchCalendar-titleCont'",
C,"><tr><td><div dyc-type='title' dyc-btn='menu' dyc-cls='hover-title,pressed-title' class='DynarchCalendar-title'>",e(a),"</div></td></tr></table><div class='DynarchCalendar-dayNames'>",b(a),"</div></div><div class='DynarchCalendar-body'></div>"];(a.args.bottomBar||a.args.showTime)&&c.push("<div class='DynarchCalendar-bottomBar'>",g(a),"</div>");c.push("<div class='DynarchCalendar-menu' style='display: none'>",f(a),"</div><div class='DynarchCalendar-tooltip'></div></div></td></tr></table>");return c.join("")}
function e(a){return"<div unselectable='on'>"+F(a.date,a.args.titleFormat)+"</div>"}function f(a){for(var a=["<table height='100%'",C,"><tr><td><table style='margin-top: 1.5em'",C,"><tr><td colspan='3'><input dyc-btn='year' class='DynarchCalendar-menu-year' size='6' value='",a.date.getFullYear(),"' /></td></tr><tr><td><div dyc-type='menubtn' dyc-cls='hover-navBtn,pressed-navBtn' dyc-btn='today'>",x("goToday"),"</div></td></tr></table><p class='DynarchCalendar-menu-sep'>&nbsp;</p><table class='DynarchCalendar-menu-mtable'",
C,">"],b=x("smn"),c=0,d=a.length,e;c<12;){a[d++]="<tr>";for(e=4;--e>0;)a[d++]="<td><div dyc-type='menubtn' dyc-cls='hover-navBtn,pressed-navBtn' dyc-btn='m"+c+"' class='DynarchCalendar-menu-month'>"+b[c++]+"</div></td>";a[d++]="</tr>"}a[d++]="</table></td></tr></table>";return a.join("")}function g(a){function b(){if(d.showTime){c.push("<td>");var e=a,f=c;f.push("<table class='DynarchCalendar-time'"+C+"><tr><td rowspan='2'><div dyc-type='time-hour' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-hour'></div></td><td dyc-type='time-hour+' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-up'></td><td rowspan='2' class='DynarchCalendar-time-sep'></td><td rowspan='2'><div dyc-type='time-min' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-minute'></div></td><td dyc-type='time-min+' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-up'></td>");
e.args.showTime==12&&f.push("<td rowspan='2' class='DynarchCalendar-time-sep'></td><td rowspan='2'><div class='DynarchCalendar-time-am' dyc-type='time-am' dyc-cls='hover-time,pressed-time'></div></td>");f.push("</tr><tr><td dyc-type='time-hour-' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-down'></td><td dyc-type='time-min-' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-down'></td></tr></table>");c.push("</td>")}}var c=[],d=a.args;c.push("<table",C," style='width:100%'><tr>");
d.timePos=="left"&&b();d.bottomBar&&(c.push("<td>"),c.push("<table",C,"><tr><td><div dyc-btn='today' dyc-cls='hover-bottomBar-today,pressed-bottomBar-today' dyc-type='bottomBar-today' class='DynarchCalendar-bottomBar-today'>",x("today"),"</div></td></tr></table>"),c.push("</td>"));d.timePos=="right"&&b();c.push("</tr></table>");return c.join("")}function h(){var a=aa("div"),b=this.els={},c={mousedown:u(o,this,!0),mouseup:u(o,this,!1),mouseover:u(t,this,!0),mouseout:u(t,this,!1),keypress:u(M,this)};
c[ga?"DOMMouseScroll":"mousewheel"]=u(D,this);if(w)c.dblclick=c.mousedown,c.keydown=c.keypress;a.innerHTML=d(this);P(a.firstChild,function(a){var c=ba[a.className];c&&(b[c]=a);w&&a.setAttribute("unselectable","on")});E(b.main,c);E([b.focusLink,b.yearInput],this._focusEvents={focus:u(i,this),blur:u(j,this)});this.moveTo(this.date,!1);this.setTime(null,!0);return b.topCont}function i(){this._bluringTimeout&&clearTimeout(this._bluringTimeout);this.focused=!0;V(this.els.main,"DynarchCalendar-focused");
this.callHooks("onFocus",this)}function k(){this.focused=!1;J(this.els.main,"DynarchCalendar-focused");this._menuVisible&&q(this,!1);this.args.cont||this.hide();this.callHooks("onBlur",this)}function j(){this._bluringTimeout=setTimeout(u(k,this),50)}function l(a){switch(a){case "time-hour+":this.setHours(this.getHours()+1);break;case "time-hour-":this.setHours(this.getHours()-1);break;case "time-min+":this.setMinutes(this.getMinutes()+this.args.minuteStep);break;case "time-min-":this.setMinutes(this.getMinutes()-
this.args.minuteStep)}}function n(a,b,c){this._bodyAnim&&this._bodyAnim.stop();var d;if(b!=0)switch(d=new Date(a.date),d.setDate(1),b){case "-Y":case -2:d.setFullYear(d.getFullYear()-1);break;case "+Y":case 2:d.setFullYear(d.getFullYear()+1);break;case "-M":case -1:d.setMonth(d.getMonth()-1);break;case "+M":case 1:d.setMonth(d.getMonth()+1)}else d=new Date;return a.moveTo(d,!c)}function q(a,b){a._menuVisible=b;H(b,a.els.title,"DynarchCalendar-pressed-title");var c=a.els.menu;if(U)c.style.height=a.els.main.offsetHeight+
"px";if(a.args.animation){a._menuAnim&&a._menuAnim.stop();var d=a.els.main.offsetHeight;if(U)c.style.width=a.els.topBar.offsetWidth+"px";if(b)c.firstChild.style.marginTop=-d+"px",a.args.opacity>0&&A(c,0),W(c,!0);a._menuAnim=Q({onUpdate:function(e,f){c.firstChild.style.marginTop=f(I.accel_b(e),-d,0,!b)+"px";a.args.opacity>0&&A(c,f(I.accel_b(e),0,0.85,!b))},onStop:function(){a.args.opacity>0&&A(c,0.85);c.firstChild.style.marginTop="";a._menuAnim=null;b||(W(c,!1),a.focused&&a.focus())}})}else W(c,b),
a.focused&&a.focus()}function o(b,c){var c=c||window.event,d=s(c);if(d&&!d.getAttribute("disabled")){var e=d.getAttribute("dyc-btn"),f=d.getAttribute("dyc-type"),g=d.getAttribute("dyc-date"),h=this.selection,i,j={mouseover:z,mousemove:z,mouseup:function(){var a=d.getAttribute("dyc-cls");a&&J(d,m(a,1));clearTimeout(i);T(document,j,!0);j=null}};if(b){setTimeout(u(this.focus,this),1);var k=d.getAttribute("dyc-cls");k&&V(d,m(k,1));if("menu"==e)this.toggleMenu();else if(d&&/^[+-][MY]$/.test(e))if(n(this,
e)){var o=u(function(){n(this,e,!0)?i=setTimeout(o,40):(j.mouseup(),n(this,e))},this);i=setTimeout(o,350);E(document,j,!0)}else j.mouseup();else if("year"==e)this.els.yearInput.focus(),this.els.yearInput.select();else{if(f!="time-am")if(/^time/.test(f))o=u(function(a){l.call(this,a);i=setTimeout(o,100)},this,f),l.call(this,f),i=setTimeout(o,350);else if(g&&h.type)h.type==a.SEL_MULTIPLE?c.shiftKey&&this._selRangeStart?h.selectRange(this._selRangeStart,g):(!c.ctrlKey&&!h.isSelected(g)&&h.clear(!0),
h.set(g,!0),this._selRangeStart=g):(h.set(g),this.moveTo(y(g),2)),d=this._getDateDiv(g),t.call(this,!0,{target:d});E(document,j,!0)}w&&j&&/dbl/i.test(c.type)&&j.mouseup();if(/^(DynarchCalendar-(topBar|bottomBar|weekend|weekNumber|menu(-sep)?))?$/.test(d.className)&&!this.args.cont)j.mousemove=u(r,this),this._mouseDiff=ca(c,R(this.els.topCont)),E(document,j,!0)}else"today"==e?(!this._menuVisible&&h.type==a.SEL_SINGLE&&h.set(new Date),this.moveTo(new Date,!0),q(this,!1)):/^m([0-9]+)/.test(e)?(g=new Date(this.date),
g.setDate(1),g.setMonth(RegExp.$1),g.setFullYear(this._getInputYear()),this.moveTo(g,!0),q(this,!1)):f=="time-am"&&this.setHours(this.getHours()+12);w||z(c)}}function r(a){var a=a||window.event,b=this.els.topCont.style,a=ca(a,this._mouseDiff);b.left=a.x+"px";b.top=a.y+"px"}function s(a){for(var b=a=a.target||a.srcElement;a&&a.getAttribute&&!a.getAttribute("dyc-type");)a=a.parentNode;return a.getAttribute&&a||b}function m(a,b){return"DynarchCalendar-"+a.split(/,/)[b]}function t(a,b){var b=b||window.event,
c=s(b);if(c){var d=c.getAttribute("dyc-type");if(d&&!c.getAttribute("disabled")&&(!a||!this._bodyAnim||d!="date")){var e=c.getAttribute("dyc-cls"),e=e?m(e,0):"DynarchCalendar-hover-"+d;(d!="date"||this.selection.type)&&H(a,c,e);d=="date"&&(H(a,c.parentNode.parentNode,"DynarchCalendar-hover-week"),this._showTooltip(c.getAttribute("dyc-date")));/^time-hour/.test(d)&&H(a,this.els.timeHour,"DynarchCalendar-hover-time");/^time-min/.test(d)&&H(a,this.els.timeMinute,"DynarchCalendar-hover-time");J(this._getDateDiv(this._lastHoverDate),
"DynarchCalendar-hover-date");this._lastHoverDate=null}}a||this._showTooltip()}function D(a){var a=a||window.event,b=s(a);if(b){var c=b.getAttribute("dyc-btn"),b=b.getAttribute("dyc-type"),d=a.wheelDelta?a.wheelDelta/120:-a.detail/3,d=d<0?-1:d>0?1:0;this.args.reverseWheel&&(d=-d);if(/^(time-(hour|min))/.test(b))switch(RegExp.$1){case "time-hour":this.setHours(this.getHours()+d);break;case "time-min":this.setMinutes(this.getMinutes()+this.args.minuteStep*d)}else/Y/i.test(c)&&(d*=2),n(this,-d);z(a)}}
function G(){this.refresh();var a=this.inputField,b=this.selection;if(a){var c=b.print(this.dateFormat);/input|textarea/i.test(a.tagName)?a.value=c:a.innerHTML=c}this.callHooks("onSelect",this,b)}function M(b){if(!this._menuAnim){var b=b||window.event,c=(b.target||b.srcElement).getAttribute("dyc-btn"),d=b.keyCode,e=b.charCode||d,f=ha[d];if("year"==c&&d==13)return e=new Date(this.date),e.setDate(1),e.setFullYear(this._getInputYear()),this.moveTo(e,!0),q(this,!1),z(b);if(this._menuVisible){if(d==27)return q(this,
!1),z(b)}else{b.ctrlKey||(f=null);f==null&&!b.ctrlKey&&(f=ia[d]);d==36&&(f=0);if(f!=null)return n(this,f),z(b);e=String.fromCharCode(e).toLowerCase();f=this.els.yearInput;c=this.selection;if(e==" ")return q(this,!0),this.focus(),f.focus(),f.select(),z(b);if(e>="0"&&e<="9")return q(this,!0),this.focus(),f.value=e,f.focus(),z(b);for(var g=x("mn"),f=b.shiftKey?-1:this.date.getMonth(),h=0,i;++h<12;)if(i=g[(f+h)%12].toLowerCase(),i.indexOf(e)==0)return e=new Date(this.date),e.setDate(1),e.setMonth((f+
h)%12),this.moveTo(e,!0),z(b);if(d>=37&&d<=40){e=this._lastHoverDate;if(!e&&!c.isEmpty()&&(e=d<39?c.getFirstDate():c.getLastDate(),e<this._firstDateVisible||e>this._lastDateVisible))e=null;if(e){for(var j=e,e=y(e),f=100;f-- >0;){switch(d){case 37:e.setDate(e.getDate()-1);break;case 38:e.setDate(e.getDate()-7);break;case 39:e.setDate(e.getDate()+1);break;case 40:e.setDate(e.getDate()+7)}if(!this.isDisabled(e))break}e=v(e);(e<this._firstDateVisible||e>this._lastDateVisible)&&this.moveTo(e)}else e=d<
39?this._lastDateVisible:this._firstDateVisible;J(this._getDateDiv(j),V(this._getDateDiv(e),"DynarchCalendar-hover-date"));this._lastHoverDate=e;return z(b)}if(d==13&&this._lastHoverDate){if(c.type==a.SEL_MULTIPLE&&(b.shiftKey||b.ctrlKey)){if(b.shiftKey&&this._selRangeStart&&(c.clear(!0),c.selectRange(this._selRangeStart,this._lastHoverDate)),b.ctrlKey)c.set(this._selRangeStart=this._lastHoverDate,!0)}else c.reset(this._selRangeStart=this._lastHoverDate);return z(b)}d==27&&!this.args.cont&&this.hide()}}}
function X(a,b){return a.replace(/\$\{([^:\}]+)(:[^\}]+)?\}/g,function(a,c,d){var e=b[c];d&&(a=d.substr(1).split(/\s*\|\s*/),e=(e>=a.length?a[a.length-1]:a[e]).replace(/##?/g,function(a){return a.length==2?"#":e}));return e})}function x(a,b){var c=L.__.data[a];b&&typeof c=="string"&&(c=X(c,b));return c}function Y(a){var a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0),b=a.getDay();a.setDate(a.getDate()-(b+6)%7+3);b=a.valueOf();a.setMonth(0);a.setDate(4);return Math.round((b-a.valueOf())/
6048E5)+1}function ea(a){var a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0),b=new Date(a.getFullYear(),0,1,12,0,0);return Math.floor((a-b)/864E5)}function v(a){return a instanceof Date?1E4*a.getFullYear()+100*(a.getMonth()+1)+a.getDate():typeof a=="string"?parseInt(a,10):a}function y(a,b,c,d,e){if(!(a instanceof Date)){var a=parseInt(a,10),f=Math.floor(a/1E4);a%=1E4;var g=Math.floor(a/100);a%=100;a=new Date(f,g-1,a,b||12,c||0,d||0,e||0)}return a}function K(a,b,c){var d=a.getFullYear(),
e=a.getMonth(),a=a.getDate(),f=b.getFullYear(),g=b.getMonth(),b=b.getDate();return d<f?-3:d>f?3:e<g?-2:e>g?2:c?0:a<b?-1:a>b?1:0}function F(a,b){var c=a.getMonth(),d=a.getDate(),e=a.getFullYear(),f=Y(a),g=a.getDay(),h=a.getHours(),i=h>=12,j=i?h-12:h,k=ea(a),l=a.getMinutes(),m=a.getSeconds(),o;j===0&&(j=12);o={"%a":x("sdn")[g],"%A":x("dn")[g],"%b":x("smn")[c],"%B":x("mn")[c],"%C":1+Math.floor(e/100),"%d":d<10?"0"+d:d,"%e":d,"%H":h<10?"0"+h:h,"%I":j<10?"0"+j:j,"%j":k<10?"00"+k:k<100?"0"+k:k,"%k":h,"%l":j,
"%m":c<9?"0"+(1+c):1+c,"%o":1+c,"%M":l<10?"0"+l:l,"%n":"\n","%p":i?"PM":"AM","%P":i?"pm":"am","%s":Math.floor(a.getTime()/1E3),"%S":m<10?"0"+m:m,"%t":"\t","%U":f<10?"0"+f:f,"%W":f<10?"0"+f:f,"%V":f<10?"0"+f:f,"%u":g+1,"%w":g,"%y":(""+e).substr(2,2),"%Y":e,"%%":"%"};return b.replace(/%./g,function(a){return o.hasOwnProperty(a)?o[a]:a})}function N(a){if(a){if(typeof a=="number")return y(a);if(!(a instanceof Date))return a=a.split(/-/),new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),
12,0,0,0)}return a}function fa(a){if(/\S/.test(a)){var a=a.toLowerCase(),b=function(b){for(var c=b.length;--c>=0;)if(b[c].toLowerCase().indexOf(a)==0)return c},b=b(x("smn"))||b(x("mn"));b!=null&&b++;return b}}function Z(a,b,c,d){d={};for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);return d}function E(a,b,c,d){if(a instanceof Array)for(var e=a.length;--e>=0;)E(a[e],b,c,d);else if(typeof b=="object")for(e in b)b.hasOwnProperty(e)&&E(a,e,b[e],c);else a.addEventListener?
a.addEventListener(b,c,w?!0:!!d):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}function T(a,b,c,d){if(a instanceof Array)for(var e=a.length;--e>=0;)T(a[e],b,c);else if(typeof b=="object")for(e in b)b.hasOwnProperty(e)&&T(a,e,b[e],c);else a.removeEventListener?a.removeEventListener(b,c,w?!0:!!d):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null}function z(a){a=a||window.event;w?(a.cancelBubble=!0,a.returnValue=!1):(a.preventDefault(),a.stopPropagation());return!1}function J(a,b,c){if(a){var d=
a.className.replace(/^\s+|\s+$/,"").split(/\x20/),e=[],f;for(f=d.length;f>0;)d[--f]!=b&&e.push(d[f]);c&&e.push(c);a.className=e.join(" ")}return c}function V(a,b){return J(a,b,b)}function H(a,b,c){if(b instanceof Array)for(var d=b.length;--d>=0;)H(a,b[d],c);else J(b,c,a?c:null);return a}function aa(a,b,c){var d=null,d=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",a):document.createElement(a);if(b)d.className=b;c&&c.appendChild(d);return d}function S(a,b){b==null&&
(b=0);var c,d,e;try{c=Array.prototype.slice.call(a,b)}catch(f){c=Array(a.length-b);d=b;for(e=0;d<a.length;++d,++e)c[e]=a[d]}return c}function u(a,b){var c=S(arguments,2);return b==void 0?function(){return a.apply(this,c.concat(S(arguments)))}:function(){return a.apply(b,c.concat(S(arguments)))}}function P(a,b){if(!b(a))for(var c=a.firstChild;c;c=c.nextSibling)c.nodeType==1&&P(c,b)}function Q(a,b,c){function d(a,b,c,e){return e?c+a*(b-c):b+a*(c-b)}function e(){b&&f();c=0;b=setInterval(g,1E3/a.fps)}
function f(){b&&(clearInterval(b),b=null);a.onStop(c/a.len,d)}function g(){var b=a.len;a.onUpdate(c/b,d);c==b&&f();++c}a=Z(a,{fps:50,len:15,onUpdate:B,onStop:B});if(w)a.len=Math.round(a.len/2);e();return{start:e,stop:f,update:g,args:a,map:d}}function A(a,b){b===""?w?a.style.filter="":a.style.opacity="":b!=null?w?a.style.filter="alpha(opacity="+b*100+")":a.style.opacity=b:w?/alpha\(opacity=([0-9.])+\)/.test(a.style.opacity)&&(b=parseFloat(RegExp.$1)/100):b=parseFloat(a.style.opacity);return b}function W(a,
b){var c=a.style;if(b!=null)c.display=b?"":"none";return c.display!="none"}function ca(a,b){var c=w?a.clientX+document.body.scrollLeft:a.pageX,d=w?a.clientY+document.body.scrollTop:a.pageY;b&&(c-=b.x,d-=b.y);return{x:c,y:d}}function R(a){var b=0,c=0,d=/^div$/i.test(a.tagName);if(d&&a.scrollLeft)b=a.scrollLeft;if(d&&a.scrollTop)c=a.scrollTop;b={x:a.offsetLeft-b,y:a.offsetTop-c};a.offsetParent&&(a=R(a.offsetParent),b.x+=a.x,b.y+=a.y);return b}function ja(){var a=document.documentElement,b=document.body;
return{x:a.scrollLeft||b.scrollLeft,y:a.scrollTop||b.scrollTop,w:a.clientWidth||window.innerWidth||b.clientWidth,h:a.clientHeight||window.innerHeight||b.clientHeight}}function $(a,b,c){for(c=0;c<a.length;++c)b(a[c])}function O(a){typeof a=="string"&&(a=document.getElementById(a));return a}var p=navigator.userAgent,da=/opera/i.test(p),ka=/Konqueror|Safari|KHTML/i.test(p),w=/msie/i.test(p)&&!da&&!/mac_powerpc/i.test(p),U=w&&/msie 6/i.test(p),ga=/gecko/i.test(p)&&!ka&&!da&&!w,p=a.prototype,L=a.I18N=
{};a.SEL_NONE=0;a.SEL_SINGLE=1;a.SEL_MULTIPLE=2;a.SEL_WEEK=3;a.dateToInt=v;a.intToDate=y;a.printDate=F;a.formatString=X;a.i18n=x;a.LANG=function(a,b,c){L.__=L[a]={name:b,data:c}};a.setup=function(b){return new a(b)};p.moveTo=function(a,b){var a=N(a),d=K(a,this.date,!0),e,f=this.args,g=f.min&&K(a,f.min),h=f.max&&K(a,f.max);f.showTime&&(this.setHours(a.getUTCHours()),this.setMinutes(a.getUTCMinutes()));f.animation||(b=!1);H(g!=null&&g<=1,[this.els.navPrevMonth,this.els.navPrevYear],"DynarchCalendar-navDisabled");
H(h!=null&&h>=-1,[this.els.navNextMonth,this.els.navNextYear],"DynarchCalendar-navDisabled");if(g<-1)a=f.min,e=1,d=0;if(h>1)a=f.max,e=2,d=0;this.date=a;this.refresh(!!b);this.callHooks("onChange",this,a,b);if(b&&!(d==0&&b==2)){this._bodyAnim&&this._bodyAnim.stop();var i=this.els.body,j=aa("div","DynarchCalendar-animBody-"+la[d],i),f=i.firstChild;A(f);var k=e?I.brakes:d==0?I.shake:I.accel_ab2,l=d*d>4,m=l?f.offsetTop:f.offsetLeft,o=j.style,n=l?i.offsetHeight:i.offsetWidth;d<0?n+=m:d>0?n=m-n:(n=Math.round(n/
7),e==2&&(n=-n));if(!e&&d!=0){var p=j.cloneNode(!0),q=p.style,r=2*n;p.appendChild(f.cloneNode(!0));q[l?"marginTop":"marginLeft"]=n+"px";i.appendChild(p)}f.style.visibility="hidden";j.innerHTML=c(this);this._bodyAnim=Q({onUpdate:u(function(a,b){var c=k(a);if(p)var f=b(c,n,r)+"px";if(e)o[l?"marginTop":"marginLeft"]=b(c,n,0)+"px";else{if(l||d==0)if(o.marginTop=b(d==0?k(a*a):c,0,n)+"px",d!=0)q.marginTop=f;if(!l||d==0)if(o.marginLeft=b(c,0,n)+"px",d!=0)q.marginLeft=f}this.args.opacity>2&&p&&(A(p,1-c),
A(j,c))},this),onStop:u(function(){i.innerHTML=c(this,a);this._bodyAnim=null},this)})}this._lastHoverDate=null;return g>=-1&&h<=1};p.isDisabled=function(a){var b=this.args;return b.min&&K(a,b.min)<0||b.max&&K(a,b.max)>0||b.disabled(a)};p.toggleMenu=function(){q(this,!this._menuVisible)};p.refresh=function(a){var b=this.els;if(!a)b.body.innerHTML=c(this);b.title.innerHTML=e(this);b.yearInput.value=this.date.getFullYear()};p.redraw=function(){var a=this.els;this.refresh();a.dayNames.innerHTML=b(this);
a.menu.innerHTML=f(this);if(a.bottomBar)a.bottomBar.innerHTML=g(this);P(a.topCont,u(function(b){var c=ba[b.className];c&&(a[c]=b);b.className=="DynarchCalendar-menu-year"?(E(b,this._focusEvents),a.yearInput=b):w&&b.setAttribute("unselectable","on")},this));this.setTime(null,!0)};p.setLanguage=function(b){if(b=a.setLanguage(b))this.fdow=b.data.fdow,this.redraw()};a.setLanguage=function(a){if(a=L[a])L.__=a;return a};p.focus=function(){try{this.els[this._menuVisible?"yearInput":"focusLink"].focus()}catch(a){}i.call(this)};
p.blur=function(){this.els.focusLink.blur();this.els.yearInput.blur();k.call(this)};p.showAt=function(a,b,c){this._showAnim&&this._showAnim.stop();var c=c&&this.args.animation,d=this.els.topCont,e=this,f=this.els.body.firstChild,g=f.offsetHeight,h=d.style;h.position="absolute";h.left=a+"px";h.top=b+"px";h.zIndex=1E4;h.display="";if(c)f.style.marginTop=-g+"px",this.args.opacity>1&&A(d,0),this._showAnim=Q({onUpdate:function(a,b){f.style.marginTop=-b(I.accel_b(a),g,0)+"px";e.args.opacity>1&&A(d,a)},
onStop:function(){e.args.opacity>1&&A(d,"");e._showAnim=null}})};p.hide=function(){var a=this.els.topCont,b=this,c=this.els.body.firstChild,d=c.offsetHeight,e=R(a).y;this.args.animation?(this._showAnim&&this._showAnim.stop(),this._showAnim=Q({onUpdate:function(f,g){b.args.opacity>1&&A(a,1-f);c.style.marginTop=-g(I.accel_b(f),0,d)+"px";a.style.top=g(I.accel_ab(f),e,e-10)+"px"},onStop:function(){a.style.display="none";c.style.marginTop="";b.args.opacity>1&&A(a,"");b._showAnim=null}})):a.style.display=
"none";this.inputField=null};p.popup=function(a,b){function c(b){var d={x:i.x,y:i.y};if(!b)return d;/B/.test(b)&&(d.y+=a.offsetHeight);/b/.test(b)&&(d.y+=a.offsetHeight-g.y);/T/.test(b)&&(d.y-=g.y);/l/.test(b)&&(d.x-=g.x-a.offsetWidth);/L/.test(b)&&(d.x-=g.x);/R/.test(b)&&(d.x+=a.offsetWidth);/c/i.test(b)&&(d.x+=(a.offsetWidth-g.x)/2);/m/i.test(b)&&(d.y+=(a.offsetHeight-g.y)/2);return d}a=O(a);if(!b)b=this.args.align;var b=b.split(/\x2f/),d=R(a),e=this.els.topCont,f=e.style,g,h=ja();f.visibility=
"hidden";f.display="";this.showAt(0,0);document.body.appendChild(e);g={x:e.offsetWidth,y:e.offsetHeight};var i=d,i=c(b[0]);if(i.y<h.y)i.y=d.y,i=c(b[1]);if(i.x+g.x>h.x+h.w)i.x=d.x,i=c(b[2]);if(i.y+g.y>h.y+h.h)i.y=d.y,i=c(b[3]);if(i.x<h.x)i.x=d.x,i=c(b[4]);this.showAt(i.x,i.y,!0);f.visibility="";this.focus()};p.manageFields=function(b,c,d){c=O(c);E(O(b),"click",u(function(){this.inputField=c;this.dateFormat=d;if(this.selection.type==a.SEL_SINGLE){var e,f,g,h;if(e=/input|textarea/i.test(c.tagName)?c.value:
c.innerText||c.textContent)if(f=/(^|[^%])%[bBmo]/.exec(d),g=/(^|[^%])%[de]/.exec(d),f&&g&&(h=f.index<g.index),e=Calendar.parseDate(e,h))this.selection.set(e,!1,!0),this.moveTo(e)}this.popup(b)},this))};p.callHooks=function(a){for(var b=S(arguments,1),c=this.handlers[a],d=0;d<c.length;++d)c[d].apply(this,b)};p.addEventListener=function(a,b){this.handlers[a].push(b)};p.removeEventListener=function(a,b){for(var c=this.handlers[a],d=c.length;--d>=0;)c[d]===b&&c.splice(d,1)};p.getTime=function(){return this.time};
p.setTime=function(a,b){if(this.args.showTime){var a=this.time=a!=null?a:this.time,c=this.getHours(),d=this.getMinutes(),e=c<12;if(this.args.showTime==12)c==0&&(c=12),c>12&&(c-=12),this.els.timeAM.innerHTML=x(e?"AM":"PM");c<10&&(c="0"+c);d<10&&(d="0"+d);this.els.timeHour.innerHTML=c;this.els.timeMinute.innerHTML=d;b||this.callHooks("onTimeChange",this,a)}};p.getHours=function(){return Math.floor(this.time/100)};p.getMinutes=function(){return this.time%100};p.setHours=function(a){a<0&&(a+=24);this.setTime(100*
(a%24)+this.time%100)};p.setMinutes=function(a){a<0&&(a+=60);this.setTime(100*this.getHours()+a%60)};p._getInputYear=function(){var a=parseInt(this.els.yearInput.value,10);isNaN(a)&&(a=this.date.getFullYear());return a};p._showTooltip=function(a){var b="",c,d=this.els.tooltip;a&&(a=y(a),(c=this.args.dateInfo(a))&&c.tooltip&&(b="<div class='DynarchCalendar-tooltipCont'>"+F(a,c.tooltip)+"</div>"));d.innerHTML=b};var C=" align='center' cellspacing='0' cellpadding='0'",ba={"DynarchCalendar-topCont":"topCont",
"DynarchCalendar-focusLink":"focusLink",DynarchCalendar:"main","DynarchCalendar-topBar":"topBar","DynarchCalendar-title":"title","DynarchCalendar-dayNames":"dayNames","DynarchCalendar-body":"body","DynarchCalendar-menu":"menu","DynarchCalendar-menu-year":"yearInput","DynarchCalendar-bottomBar":"bottomBar","DynarchCalendar-tooltip":"tooltip","DynarchCalendar-time-hour":"timeHour","DynarchCalendar-time-minute":"timeMinute","DynarchCalendar-time-am":"timeAM","DynarchCalendar-navBtn DynarchCalendar-prevYear":"navPrevYear",
"DynarchCalendar-navBtn DynarchCalendar-nextYear":"navNextYear","DynarchCalendar-navBtn DynarchCalendar-prevMonth":"navPrevMonth","DynarchCalendar-navBtn DynarchCalendar-nextMonth":"navNextMonth"},la={"-3":"backYear","-2":"back",0:"now",2:"fwd",3:"fwdYear"},ha={37:-1,38:-2,39:1,40:2},ia={33:-1,34:1};p._getDateDiv=function(a){var b=null;if(a)try{P(this.els.body,function(c){if(c.getAttribute("dyc-date")==a)throw b=c;})}catch(c){}return b};(a.Selection=function(a,b,c,d){this.type=b;this.sel=a instanceof
Array?a:[a];this.onChange=u(c,d);this.cal=d}).prototype={get:function(){return this.type==a.SEL_SINGLE?this.sel[0]:this.sel},isEmpty:function(){return this.sel.length==0},set:function(b,c,d){var e=this.type==a.SEL_SINGLE;if(b instanceof Array){if(this.sel=b,this.normalize(),!d)this.onChange(this)}else if(b=v(b),e||!this.isSelected(b)){if(e?this.sel=[b]:this.sel.splice(this.findInsertPos(b),0,b),this.normalize(),!d)this.onChange(this)}else c&&this.unselect(b,d)},reset:function(){this.sel=[];this.set.apply(this,
arguments)},countDays:function(){for(var a=0,b=this.sel,c=b.length,d,e;--c>=0;)d=b[c],d instanceof Array&&(e=y(d[0]),d=y(d[1]),a+=Math.round(Math.abs(d.getTime()-e.getTime())/864E5)),++a;return a},unselect:function(a,b){for(var a=v(a),c=!1,d=this.sel,e=d.length,f;--e>=0;)if(f=d[e],f instanceof Array){if(a>=f[0]&&a<=f[1]){var c=y(a),g=c.getDate();if(a==f[0])c.setDate(g+1),f[0]=v(c);else{if(a==f[1])c.setDate(g-1);else{var h=new Date(c);h.setDate(g+1);c.setDate(g-1);d.splice(e+1,0,[v(h),f[1]])}f[1]=
v(c)}c=!0}}else a==f&&(d.splice(e,1),c=!0);if(c&&(this.normalize(),!b))this.onChange(this)},normalize:function(){var ma;for(var a=this.sel=this.sel.sort(function(a,b){a instanceof Array&&(a=a[0]);b instanceof Array&&(b=b[0]);return a-b}),b=a.length,c,d;--b>=0;){c=a[b];if(c instanceof Array){if(c[0]>c[1]){a.splice(b,1);continue}c[0]==c[1]&&(ma=a[b]=c[0],c=ma)}if(d){var e=d,f=c instanceof Array?c[1]:c,f=y(f);f.setDate(f.getDate()+1);f=v(f);f>=e&&(e=a[b+1],c instanceof Array&&e instanceof Array?(c[1]=
e[1],a.splice(b+1,1)):c instanceof Array?(c[1]=d,a.splice(b+1,1)):e instanceof Array?(e[0]=c,a.splice(b,1)):(a[b]=[c,e],a.splice(b+1,1)))}d=c instanceof Array?c[0]:c}},findInsertPos:function(a){for(var b=this.sel,c=b.length,d;--c>=0;)if(d=b[c],d instanceof Array&&(d=d[0]),d<=a)break;return c+1},clear:function(a){this.sel=[];if(!a)this.onChange(this)},selectRange:function(b,c){b=v(b);c=v(c);if(b>c)var d=b,b=c,c=d;var e=this.cal.args.checkRange;if(!e)return this._do_selectRange(b,c);try{$((new a.Selection([[b,
c]],a.SEL_MULTIPLE,B)).getDates(),u(function(a){if(this.isDisabled(a))throw e instanceof Function&&e(a,this),"OUT";},this.cal)),this._do_selectRange(b,c)}catch(f){}},_do_selectRange:function(a,b){this.sel.push([a,b]);this.normalize();this.onChange(this)},isSelected:function(a){for(var b=this.sel.length,c;--b>=0;)if(c=this.sel[b],c instanceof Array&&a>=c[0]&&a<=c[1]||a==c)return!0;return!1},getFirstDate:function(){var a=this.sel[0];a&&a instanceof Array&&(a=a[0]);return a},getLastDate:function(){if(this.sel.length>
0){var a=this.sel[this.sel.length-1];a&&a instanceof Array&&(a=a[1]);return a}},print:function(a,b){var c=[],d=0,e,f=this.cal.getHours(),g=this.cal.getMinutes();for(b||(b=" -> ");d<this.sel.length;)e=this.sel[d++],e instanceof Array?c.push(F(y(e[0],f,g),a)+b+F(y(e[1],f,g),a)):c.push(F(y(e,f,g),a));return c},getDates:function(a){for(var b=[],c=0,d,e;c<this.sel.length;){e=this.sel[c++];if(e instanceof Array){d=y(e[0]);for(e=e[1];v(d)<e;)b.push(a?F(d,a):new Date(d)),d.setDate(d.getDate()+1)}else d=y(e);
b.push(a?F(d,a):d)}return b}};a.parseDate=function(a,b,c){if(!/\S/.test(a))return"";var a=a.replace(/^\s+/,"").replace(/\s+$/,""),c=c||new Date,d=null,e=null,f=null,g=null,h=null,i=null,j=a.match(/([0-9]{1,2}):([0-9]{1,2})(:[0-9]{1,2})?\s*(am|pm)?/i);j&&(g=parseInt(j[1],10),h=parseInt(j[2],10),i=j[3]?parseInt(j[3].substr(1),10):0,a=a.substring(0,j.index)+a.substr(j.index+j[0].length),j[4]&&(j[4].toLowerCase()=="pm"&&g<12?g+=12:j[4].toLowerCase()=="am"&&g>=12&&(g-=12)));for(var a=a.split(/\W+/),j=
[],k=0;k<a.length;++k){var l=a[k];/^[0-9]{4}$/.test(l)?(d=parseInt(l,10),!e&&!f&&b==null&&(b=!0)):/^[0-9]{1,2}$/.test(l)?(l=parseInt(l,10),l>=60?d=l:l>=0&&l<=12?j.push(l):l>=1&&l<=31&&(f=l)):e=fa(l)}j.length>=2?b?(e||(e=j.shift()),f||(f=j.shift())):(f||(f=j.shift()),e||(e=j.shift())):j.length==1&&(f?e||(e=j.shift()):f=j.shift());d||(d=j.length>0?j.shift():c.getFullYear());d<30?d+=2E3:d<99&&(d+=1900);e||(e=c.getMonth()+1);return d&&e&&f?new Date(Date.UTC(d,e-1,f,g,h,i)):null};var I={elastic_b:function(a){return 1-
Math.cos(-a*5.5*Math.PI)/Math.pow(2,7*a)},magnetic:function(a){return 1-Math.cos(a*a*a*10.5*Math.PI)/Math.exp(4*a)},accel_b:function(a){a=1-a;return 1-a*a*a*a},accel_a:function(a){return a*a*a},accel_ab:function(a){a=1-a;return 1-Math.sin(a*a*Math.PI/2)},accel_ab2:function(a){return(a/=0.5)<1?0.5*a*a:-0.5*(--a*(a-2)-1)},brakes:function(a){a=1-a;return 1-Math.sin(a*a*Math.PI)},shake:function(a){return a<0.5?-Math.cos(a*11*Math.PI)*a*a:(a=1-a,Math.cos(a*11*Math.PI)*a*a)}},B=new Function;return a}();Calendar.LANG("en","English",{fdow:1,goToday:"Go Today",today:"Today",wk:"wk",weekend:"0,6",AM:"am",PM:"pm",mn:["January","February","March","April","May","June","July","August","September","October","November","December"],smn:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dn:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],sdn:["Su","Mo","Tu","We","Th","Fr","Sa","Su"]});
